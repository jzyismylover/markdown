# 2023.08



1. `Array.prototype.splice` å®ç°

```js
Array.prototype.splice = function (start, deleteCount) {
  let max = Math.max, // å‡½æ•°å®šä¹‰
    min = Math.min,
    delta,
    element, // ä»£è¡¨æ¯ä¸ªå•å…ƒå…ƒç´ 
    insertCount = max(arguments.length - 2, 0), // æ–°å¢å…ƒç´ çš„ä¸ªæ•°
    k = 0,
    len = this.length,
    new_len,
    result = [], // å­˜å‚¨åˆ é™¤çš„æ•°ç»„
    shift_count;

  start = start || 0;
  if (start < 0) {
    start += len;
  }
  start = max(min(start, len), 0);
  deleteCount = max(
    min(typeof deleteCount === "number" ? deleteCount : len, len - start),
    0
  );
  delta = insertCount - deleteCount; // å˜åŒ–çš„é•¿åº¦
  new_len = len + delta; // æ–°é•¿åº¦

  while (k < deleteCount) {
    element = this[start + k];
    if (element !== undefined) {
      result[k] = element;
    }
    k += 1;
  }

  // ### å…³é”®ï¼šéœ€è¦æ•´ä½“ç§»åŠ¨çš„æ¬¡æ•° ###
  shift_count = len - start - deleteCount;

  if (delta < 0) {
    // ### k åˆå§‹å€¼ ###
    k = start + insertCount;
      
    // å‘å·¦å¹³ç§»å¡«è¡¥ deleteCount > inserCount çš„ç©ºç¼º
    while (shift_count) {
      this[k] = this[k - delta];
      k += 1;
      shift_count -= 1;
    }
    this.length = new_len;
  } else if (delta > 0) {
    // æœ«å°¾å¼€å§‹å‘å³å¹³ç§» n æ¬¡ ä¿è¯èƒ½å®¹çº³ä¸‹æ–°å¢æ•°ç»„å…ƒç´ æ•°é‡
    k = 1;
    while (shift_count) {
      this[new_len - k] = this[len - k];
      k += 1;
      shift_count -= 1;
    }
    this.length = new_len;
  }
  for (k = 0; k < insertCount; k += 1) {
    this[start + k] = arguments[k + 2];
  }
  return result;
};

```



2.  `Vue computed ` é»˜è®¤ä½¿ç”¨äº† `get` æ–¹æ³•ï¼Œè€Œ `set` æ–¹æ³•ä¸€èˆ¬ç”¨ä¸ä¸Š

```ts 
computed: {
    editData: {
      get () {
        return this.value
      },
      set (v) {
        this.$emit('input', v)
      }
    }
 }

// è§¦å‘ computed set æ–¹æ³•çš„æ¡ä»¶
this.editData = 2 
```



3. `css animation`

`animation` & `keyframes` æ˜¯ `css` è®¾ç½®åŠ¨ç”»çš„æ–¹å¼ï¼Œå±æ€§å¤šç›¸å¯¹éš¾ä»¥ç†è§£ï¼Œä» `animation-*` è®¾ç½®æ¥è¯´ï¼š

- `animation-name`ï¼šåŠ¨ç”»åï¼ˆä¸€ä¸ª `animation` å¯ä»¥æŒ‡å®šå¤šä¸ªåŠ¨ç”» `,` ä½œä¸ºåˆ†éš”ï¼‰
- `animation-duration`ï¼šåŠ¨ç”»æŒç»­æ—¶é—´(å¯è®¾ç½® `s`  æˆ–è€… `ms` æ•°å€¼)
- `animation-fill-mode`ï¼šè®¾ç½®åŠ¨ç”»æ‰§è¡Œå‰å’Œä¹‹åå¦‚ä½•å°†æ ·å¼åº”ç”¨åœ¨ç›®æ ‡ä¸Š
  - `forwards ` åŠ¨ç”»ç»“æŸåä¿ç•™æœ€åä¸€ä¸ªå…³é”®å¸§çš„æ ·å¼
  - `backwards` åŠ¨ç”»å¼€å§‹å‰åº”ç”¨ç¬¬ä¸€ä¸ªå…³é”®å¸§çš„æ ·å¼
  - `both` `forwards` å’Œ `backwards` åŒæ—¶ç”Ÿæ•ˆ
  - `none` é»˜è®¤å€¼
- `animation-delay`ï¼šåŠ¨ç”»å»¶æ—¶å¼€å§‹æ—¶é—´
- `animation-direction`ï¼šåŠ¨ç”»æ’­æ”¾æ–¹å‘
  - `normal` æ­£å‘æ’­æ”¾
  - `reverse` åå‘æ’­æ”¾
  - `alternate` æ­£åäº¤æ›¿ï¼Œä»æ­£å‘å¼€å§‹
  - `alternate-reverse` æ­£åäº¤æ›¿ï¼Œä»åå‘å¼€å§‹
- `animation-iteration-count`ï¼šè®¾ç½®åŠ¨ç”»æ’­æ”¾æ¬¡æ•°
  - `infinite` æ°¸ä¹…æ’­æ”¾ 

- `animation-timing-function`ï¼šåŠ¨ç”»å‘¨æœŸå‡½æ•°
  - `linear` çº¿æ€§
  - `cubic-bezier` è´å¡å°”æ›²çº¿
  - `step` å®šä¹‰åŠ¨ç”»è¢«åˆ†éš”ç­‰é•¿æ—¶é—´æ®µæ•°é‡ï¼ˆæ˜¯å¦åŒ…å«ä¸¤ç«¯æˆ–è€…åªåŒ…å«ä¸€ç«¯ï¼‰
- `animation-play-state`ï¼šåŠ¨ç”»æ˜¯å¦æ­£å¸¸è¿è¡Œ



ğŸ” ç»Ÿä¸€éµå¾ªä»¥ä¸‹ `animation`é¡ºåºå®šä¹‰è§„åˆ™

```text
animation = 
  <single-animation>#

<single-animation> = 
  <time>  duration                            ||
  <easing-function>                   ||
  <time>  delay                            ||
  <single-animation-iteration-count>  ||
  <single-animation-direction>        ||
  <single-animation-fill-mode>        ||
  <single-animation-play-state>       ||
  [ none | <keyframes-name> ]   
```


