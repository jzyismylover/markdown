(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{337:function(s,t,a){s.exports=a.p+"assets/img/image-20231203161509713.7b782486.png"},338:function(s,t,a){s.exports=a.p+"assets/img/image-20231214004807464.26e191fe.png"},417:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–"}},[s._v("#")]),s._v(" æ€§èƒ½ä¼˜åŒ–")]),s._v(" "),t("h2",{attrs:{id:"è¡¡é‡çœŸå®æ€§èƒ½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¡¡é‡çœŸå®æ€§èƒ½"}},[s._v("#")]),s._v(" è¡¡é‡çœŸå®æ€§èƒ½")]),s._v(" "),t("p",[s._v("è¡¡é‡çœŸå®æ€§èƒ½æŒ‡çš„æ˜¯ä»ç”¨æˆ·è§’åº¦æ¥çœ‹ä¸€äº›æŒ‡æ ‡çš„å…·ä½“è¡¨ç°ï¼Œcrux å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»äº†è§£çœŸå®ç”¨æˆ·è®¿é—®æƒ…å†µã€‚")]),s._v(" "),t("p",[s._v("cruxï¼š Chrome ç”¨æˆ·ä½“éªŒæŠ¥å‘Šï¼Œæ˜¯ä¸€ä»½å…¬å¼€æ•°æ®é›†ï¼ŒåŒ…å«æ•°ç™¾ä¸‡ä¸ªç½‘ç«™ä¸Šçš„çœŸå®ç”¨æˆ·ä½“éªŒæ•°æ®ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("çœŸå®æ•°æ®å’Œå®éªŒæ•°æ®å­˜åœ¨å·®å¼‚ã€‚whyï¼Ÿ")])]),s._v(" "),t("p",[s._v("å®éªŒæ•°æ®å¾ˆå¤šæ—¶å€™æ˜¯åœ¨ä¸€ä¸ªç‰¹å®šæ¨¡æ‹Ÿåœºæ™¯ä¸‹è¿›è¡Œï¼ˆä¿è¯ä½¿ç”¨è€…çš„ä¸€è‡´æ€§ï¼‰ï¼Œè¿™ç§æ¨¡æ‹Ÿåœºæ™¯æœ‰å¾ˆå¤šé™åˆ¶ï¼Œæ¯”å¦‚åœ°ç†ä½ç½®ã€ç¼“å­˜ä½¿ç”¨ã€ç½‘é€Ÿé™åˆ¶â€¦â€¦ï¼Œå› æ­¤ç›¸æ¯”äºçœŸå®ç”¨æˆ·æ•°æ®æ•°å€¼ä¸Šè¿˜æ˜¯æœ‰æ˜æ˜¾å·®å¼‚ã€‚ä¸åŒçš„çœŸå®ç”¨æˆ·ä¹Ÿå—é™äºå…¶ä½¿ç”¨ç¯å¢ƒæ•°å€¼ä¹Ÿä¼šæœ‰äº›è®¸åå·®ã€‚ä»å…·ä½“æŒ‡æ ‡ä¸Šæ¥è¯´ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("LCP")]),s._v(" "),t("ul",[t("li",[s._v("ä¸åŒç”¨æˆ·ä½¿ç”¨çš„è®¾å¤‡å±å¹•å°ºå¯¸ä¸ä¸€è‡´ï¼Œè§†å£æ˜¾ç¤ºå…ƒç´ ä¸ä¸€è‡´")]),s._v(" "),t("li",[s._v("ä¸åŒç”¨æˆ·è®¾å¤‡ä¸Šå®‰è£…çš„å­—ä½“é›†å½±å“æ–‡æœ¬å¤§å°")]),s._v(" "),t("li",[s._v("ç™»é™†ä¸æœªç™»é™†ç½‘é¡µä¸Šä¸€èˆ¬æ˜¾ç¤ºå†…å®¹ä¸ä¸€è‡´")])])]),s._v(" "),t("li",[t("p",[s._v("FID")]),s._v(" "),t("ul",[t("li",[s._v("ç”¨æˆ·ç¼“å­˜")]),s._v(" "),t("li",[s._v("æµè§ˆå™¨ bfcache ç­–ç•¥ï¼Œé¡µé¢å¯ä»¥ä»å†…å­˜ä¸­æ¢å¤")])])]),s._v(" "),t("li",[t("p",[s._v("CLS")]),s._v(" "),t("ul",[t("li",[s._v("å—ç”¨æˆ·è¡Œä¸ºå½±å“ï¼Œäº‹ä»¶çš„è§¦å‘éƒ½æœ‰å¯èƒ½å¯¼è‡´ CLS æ•°å€¼å·®å¼‚")])])])]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–èµ„æºåˆ†å‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–èµ„æºåˆ†å‘"}},[s._v("#")]),s._v(" ä¼˜åŒ–èµ„æºåˆ†å‘")]),s._v(" "),t("p",[s._v("èµ„æºåˆ†å‘å­—é¢ç†è§£å°±æ˜¯ä»æœåŠ¡å™¨è·å–èµ„æºï¼Œä¼˜åŒ–çš„æ–¹å‘å°±æ˜¯å°½å¯èƒ½å‡å°‘ ttr")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("CDNï¼šå†…å®¹åˆ†å‘ç½‘ç»œæŠ€æœ¯ï¼Œé€šè¿‡æœåŠ¡å™¨é›†ç¾¤ä¼˜å…ˆä»ç¦»ç”¨æˆ·æœ€è¿‘çš„ä¸‹æ¸¸æœºå™¨è¿”å›æ•°æ®ã€‚å¯é…ç½®ç¼“å­˜ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…ç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›æ•°æ®ï¼Œè¿‡æœŸå†å›æºç«™é‡æ–°è·å–ã€‚")]),s._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://shuyi-tech-blog.oss-cn-shenzhen.aliyuncs.com/halo_blog_system_file/CDN%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B.png",alt:"CDNåŸºæœ¬å·¥ä½œè¿‡ç¨‹"}})]),s._v(" "),t("li",[t("p",[s._v("è®¾ç½®èµ„æºä¼˜å…ˆçº§åˆ«ï¼šèµ„æºä¼˜å…ˆçº§è¶Šé«˜è¶Šå…ˆè¢«å¤„ç†ï¼Œå› æ­¤é€šå¸¸ä¼˜å…ˆçº§çš„è®¾ç½®é’ˆå¯¹çš„æ˜¯å¯¹é¦–å±é‡è¦çš„èµ„æºæ¯”å¦‚å›¾ç‰‡ã€å­—ä½“ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚ç›²ç›®åœ°è®¾å®šèµ„æºä¼˜å…ˆçº§å¾ˆå®¹æ˜“å¯¼è‡´ä¸åŒèµ„æºæŠ¢å å¸¦å®½çš„æƒ…å†µåè€Œé™ä½ç½‘ç»œè¯·æ±‚æ•ˆç‡ã€‚è®¾ç½®æ–¹å¼ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨æ ‡ç­¾ï¼ˆ "),t("code",[s._v("img/script/iframe/link")]),s._v(" ï¼‰ä¸Šè®¾å®š "),t("code",[s._v("fetch-priority=high")])]),s._v(" "),t("li",[t("code",[s._v("fetch")]),s._v(" è¯·æ±‚è®¾ç½® "),t("code",[s._v("priority=high")])])])]),s._v(" "),t("li",[t("p",[s._v("é¢„åŠ è½½èµ„æºï¼šé¦–å…ˆè¦åŒºåˆ†èµ„æºä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§æŒ‡çš„æ˜¯å½“é‡åˆ°è¿™ä¸ªèµ„æºçš„æ—¶å€™å°½å¯èƒ½æ›´å¿«åœ°å»è¯·æ±‚èµ„æºï¼Œå‰ææ˜¯å‘ç°è¿™ä¸ªèµ„æºã€‚ä½†æ˜¯é¢„åŠ è½½æ˜¯ç›´æ¥å°±åŠ è½½èµ„æºäº†å³ä½¿è¿˜æ²¡æœ‰è§£æåˆ°å¯¹åº”ä½ç½®ã€‚å¯¹äºé¦–å±ä¸€äº›é‡è¦èµ„æºçš„é¢„åŠ è½½å¯ä»¥æå‡ LCPï¼ˆæœ€å¤§å†…å®¹æ¸²æŸ“ï¼‰ï¼ŒLCP ä¸ç”¨æˆ·ä½“éªŒç´§å¯†ç›¸å…³")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v('<link rel="preload" as="script|style|font" href=>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("DNS é¢„è§£æï¼šDNS é¢„è§£ææ„å‘³ç€æå‰è¿›è¡Œå¯»å€è§£æ IP æ“ä½œï¼Œåœ¨çœŸå®è¯·æ±‚å‘èµ·çš„æ—¶å€™å¯ä»¥å¤ç”¨ä¹‹å‰ç¼“å­˜çš„è§£æ IPï¼Œé¿å…å†æ¬¡è¿›è¡Œ DNS è§£æçš„è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v('<link ref="dns-prefetch" href=>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("é¢„è¿æ¥ï¼šæå‰ä¸ç›®æ ‡æœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v('<link ref="preconnect" href=>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("é¢„æå–èµ„æºï¼šåŒºåˆ«äºé¢„åŠ è½½èµ„æºï¼Œèµ„æºä¼˜å…ˆçº§ä¼šè¢«è®¾ç½®ä¸ºæœ€ä½ï¼Œæµè§ˆå™¨åœ¨ç©ºé—²æ—¶æ‰å¼€å§‹åŠ è½½èµ„æº")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v('<link ref="prefetch" href=>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–å›¾ç‰‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–å›¾ç‰‡"}},[s._v("#")]),s._v(" ä¼˜åŒ–å›¾ç‰‡")]),s._v(" "),t("p",[s._v("ç½‘ç«™ä¸­ç”¨åˆ°çš„å›¾ç‰‡èµ„æºéå¸¸å¤šï¼Œå› æ­¤å•çº¯ä»ç½‘ç»œè§’åº¦æ¥è¯´å›¾ç‰‡èµ„æºçš„ä¼˜åŒ–èƒ½å¤Ÿå¸¦åŠ¨å¾ˆå¤šæŒ‡æ ‡çš„æå‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼šé¦–å± "),t("code",[s._v("banner")]),s._v(" å¾€å¾€æ˜¯æœ€é‡è¦èµ„æºï¼Œå±•ç¤ºé€Ÿåº¦çš„å¿«æ…¢ç›´æ¥å½±å“ç½‘ç«™çœŸå®ç”¨æˆ·ä½“éªŒã€‚ä»ä¼˜åŒ–å±‚é¢å¯ä»¥åšçš„å·¥ä½œï¼š")]),s._v(" "),t("p",[s._v("æ‰‹æ®µä¸€ï¼š"),t("strong",[s._v("å‡å°‘å›¾ç‰‡ä½“ç§¯")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("imagemin")]),s._v("ï¼šæ— æŸå‹ç¼©")]),s._v(" "),t("li",[t("code",[s._v("tinypng")]),s._v("ï¼šæœ‰æŸå‹ç¼©")])]),s._v(" "),t("blockquote",[t("p",[s._v("ä½¿ç”¨ tinypng å‹ç¼©å›¾ç‰‡. tinypng ä½¿ç”¨çš„æ˜¯æœ‰æŸå‹ç¼©")])]),s._v(" "),t("ul",[t("li",[s._v("æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨ "),t("code",[s._v("tinypng.com")]),s._v(" ä¸Šä¼ å›¾ç‰‡å‹ç¼©. æ¯å¤©æœ‰ 20 å¼ å›¾ç‰‡é™é¢")]),s._v(" "),t("li",[s._v("æ–¹æ³•äºŒï¼šè°ƒç”¨å®˜æ–¹æä¾›çš„ api ç¼–å†™è„šæœ¬æ‰¹é‡å‹ç¼©. æ¯ä¸ªæœˆæœ‰ 500 æ¬¡å…è´¹è°ƒç”¨æ¬¡æ•°. ç ´è§£çš„æ‰‹æ®µï¼šå¯ä»¥ä½¿ç”¨ "),t("code",[s._v("x-forward-for")]),s._v(" & "),t("code",[s._v("host")]),s._v(" è§£å†³è´Ÿè½½å‡è¡¡é™åˆ¶ï¼Œå½“ç„¶ä¼šå­˜åœ¨è°ƒç”¨ä¸ç¨³å®šçš„æƒ…å†µ")])]),s._v(" "),t("p",[s._v("æ‰‹æ®µäºŒï¼š"),t("strong",[s._v("é€‰æ‹©åˆé€‚çš„å›¾ç‰‡æ ¼å¼")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("webp")]),s._v("ï¼šæ–°ä¸€ä»£å›¾ç‰‡æ ¼å¼ï¼Œä½“ç§¯æ›´å°")]),s._v(" "),t("li",[t("code",[s._v("svg")]),s._v("ï¼šçŸ¢é‡å›¾ä¸ä¼šå—åˆ†è¾¨ç‡å½±å“")])]),s._v(" "),t("blockquote",[t("p",[s._v("ä½¿ç”¨ cwebp æ‰¹é‡å‹ç¼©å›¾ç‰‡. cwebp æ˜¯ google æ¨å‡ºçš„å‹ç¼©å·¥å…·")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" images/*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" cwebp "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(".*}")]),s._v('.webp"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ‰‹æ®µä¸‰ï¼š"),t("strong",[s._v("ä½¿ç”¨ "),t("code",[s._v("cdn")])])]),s._v(" "),t("p",[s._v("å›¾ç‰‡ cdn æœ¬èº«ä¹Ÿæœ‰å‹ç¼©ç­–ç•¥. ä¸Šä¼ åå¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œå¤§å°ã€æ ¼å¼è½¬æ¢")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://cdn.gcore.com/origin-groups/403977",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…è´¹ cdn"),t("OutboundLink")],1),s._v("ï¼šç½‘ç«™æä¾›äº†å…è´¹çš„ cdn æœåŠ¡ï¼Œå¯é…ç½®æºç«™ã€‚")]),s._v(" "),t("p",[s._v("æ‰‹æ®µå››ï¼š"),t("strong",[s._v("åŠ¨å›¾æ ¼å¼æ›¿æ¢")]),s._v("ï¼Œå¯¹äºåŠ¨å›¾é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ "),t("code",[s._v("gif")]),s._v(" æ•°æ®æ ¼å¼ã€‚ä½†æ˜¯ "),t("code",[s._v("gif")]),s._v(" å¾€å¾€ä½“ç§¯å¾ˆå¤§ï¼Œä½œä¸ºæ›¿ä»£å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("video")])]),s._v(" "),t("blockquote",[t("p",[s._v("ffmepg è½¬æ¢ gif")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("gif"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b:v")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-crf")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-vcodec")]),s._v(" libx264 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-pix_fmt")]),s._v(" yuv420p "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("video"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# webm å›¾ç‰‡æ ¼å¼")]),s._v("\n$ ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("gif"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" vp9 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b:v")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-crf")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("video"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ğŸ¤ è½¬æ¢åä¸ºäº†æ¨¡ä»¿ gif åŠ¨å›¾çš„æ•ˆæœï¼Œvideo éœ€é…ç½®ï¼šè‡ªåŠ¨æ’­æ”¾ã€å¾ªç¯ã€æ— å£°")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("video")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("autoplay")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("loop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("muted")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("playsinline")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("video")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ‰‹æ®µäº”ï¼š"),t("strong",[s._v("è‡ªé€‚åº”å›¾ç‰‡")])]),s._v(" "),t("p",[s._v("åœ¨ä¸åŒåˆ†è¾¨ç‡çš„æƒ…å†µå±•ç¤ºä¸åŒå›¾ç‰‡. å¥½å¤„åœ¨ä¸èƒ½å¤Ÿåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå‡å°‘å›¾ç‰‡å¤§å°")]),s._v(" "),t("p",[t("code",[s._v("<img />")]),s._v(" ä¸Š srcset / size å±æ€§å¯ä»¥å¸®åŠ©å®ç°è¿™ä¸ªåŠŸèƒ½")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("secrets")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("@/assets/500.png 500w, @/assets/1000.png 1000w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("50vw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è®¡ç®—è§„åˆ™ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å¦‚æœ srcset æŒ‡å®šäº† wï¼Œåˆ™ä½¿ç”¨ "),t("code",[s._v("variables / size")]),s._v(" å¾—åˆ°æœ€å x(åƒç´ å¯†åº¦)")]),s._v(" "),t("li",[s._v("å¦‚æœ srcset æŒ‡å®šäº† xï¼Œåˆ™ä»¥è¯¥å€¼ä½œä¸ºåƒç´ å¯†åº¦")])]),s._v(" "),t("p",[s._v("åƒç´ å¯†åº¦ï¼šå±å¹•çš„å¯¹è§’çº¿é•¿åº¦ / å±å¹•è‹±å¯¸")]),s._v(" "),t("h2",{attrs:{id:"å»¶è¿ŸåŠ è½½å›¾ç‰‡å’Œè§†é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å»¶è¿ŸåŠ è½½å›¾ç‰‡å’Œè§†é¢‘"}},[s._v("#")]),s._v(" å»¶è¿ŸåŠ è½½å›¾ç‰‡å’Œè§†é¢‘")]),s._v(" "),t("p",[s._v("å»¶æ—¶åŠ è½½èƒ½å¤Ÿé¿å…åœ¨è®¿é—®çš„æ—¶å€™ä¸‹è½½å…¨éƒ¨èµ„æºå¯¼è‡´å¸¦å®½è¢«å ç”¨ï¼Œé‡è¦èµ„æºä¸‹è½½é˜»å¡ã€‚")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å›¾ç‰‡")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("loadingï¼š"),t("code",[s._v("chrome")]),s._v(" & "),t("code",[s._v("firefox")]),s._v(" æ”¯æŒè®¾ç½® "),t("code",[s._v("loading=lazy")]),s._v(" è¿›è¡Œå»¶è¿ŸåŠ è½½. é€‚ç”¨äºå›¾ç‰‡æ•°é‡å°‘çš„åœºæ™¯")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("IntersectionObserver")]),s._v(" ï¼šé€šè¿‡è§‚å¯Ÿå…ƒç´ æ˜¯å¦è¿›å…¥è§†å£å†åŠ¨æ€ä¸‹è½½å›¾ç‰‡")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DOMContentLoaded"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// lazy æ ‡è¯†å›¾ç‰‡éœ€è¦æ‡’åŠ è½½")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" lazyImages "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("slice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelectorAll")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"img.lazy"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IntersectionObserver"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" lazyImageObserver "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IntersectionObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      observer")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isIntersecting"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" lazyImage "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" entry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("srcset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("srcset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lazy"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é˜²æ­¢äºŒæ¬¡åŠ è½½")]),s._v("\n          lazyImageObserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unobserve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    lazyImages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("lazyImage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      lazyImageObserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lazyImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Possibly fall back to event handlers here")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("blockquote",[t("p",[s._v("æ‹“å±•æ¥è¯´ï¼Œiframe æ‡’åŠ è½½è¿‡ç¨‹ç±»ä¼¼ã€‚é’ˆå¯¹ background èƒŒæ™¯å›¾æ‡’åŠ è½½ï¼Œæ€è·¯æ˜¯é€šè¿‡å‡ºç°åœ¨è§†å£çš„æ—¶æœºåŠ¨æ€æ·»åŠ  .visible classname")])])])])]),s._v(" "),t("li",[t("p",[s._v("è§†é¢‘")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("preloadï¼šå¯ä»¥è®¾å®š noneã€metadata")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("IntersectionObserver")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DOMContentLoaded"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" lazyVideos "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("slice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelectorAll")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"video.lazy"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IntersectionObserver"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" lazyVideoObserver "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IntersectionObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      observer")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("video")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isIntersecting"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// video æ ‡ç­¾å­˜åœ¨å¤šä¸ª source æ ‡ç­¾")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" source "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ source æ ‡ç­¾ src")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" videoSource "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tagName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"string"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n              videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tagName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SOURCE"')]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n          video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("load")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lazy"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          lazyVideoObserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unobserve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("video"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    lazyVideos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("lazyVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      lazyVideoObserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lazyVideo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])])])])])]),s._v(" "),t("blockquote",[t("p",[s._v("æ‹œè¯»äº†ä¸‹ "),t("a",{attrs:{href:"https://github.com/ApoorvSaxena/lozad.js/blob/master/src/lozad.js#L21",target:"_blank",rel:"noopener noreferrer"}},[s._v("lozad"),t("OutboundLink")],1),s._v(" ï¼Œæ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€èƒŒæ™¯å›¾æ‡’åŠ è½½")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("åŸºæœ¬æ€è·¯")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨å…ƒç´ ä¸Šé€šè¿‡ "),t("code",[s._v("dataset")]),s._v(" è®¾å®šä¸€ä¸ªç›®æ ‡å€¼ï¼Œ"),t("code",[s._v("previous value")]),s._v(" è®¾ç½®å ä½ urlã€‚")]),s._v(" "),t("li",[s._v("åŸºäº "),t("code",[s._v("intersectionObserver")]),s._v("ç›‘å¬åˆ¤æ–­å…ƒç´ æ˜¯å¦å‡ºç°åœ¨è§†å£")]),s._v(" "),t("li",[s._v("ä½¿ç”¨ "),t("code",[s._v("mutationObserver")]),s._v(" ç›‘å¬å…ƒç´ é“¾æ¥æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå‘ç”Ÿå˜åŒ–åˆ™é‡æ–°åŠ è½½")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" validAttribute "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-iesrc"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-alt"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-src"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-srcset"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-background-image"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data-toggle-class"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("IntersectionObserve")])]),s._v(" "),t("ul",[t("li",[s._v("callback\n"),t("ul",[t("li",[s._v("entriesï¼š"),t("code",[s._v("IntersectionObserverEntry")]),s._v(" å¯¹è±¡ï¼Œè¯¦ç»†å±æ€§"),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserverEntry",target:"_blank",rel:"noopener noreferrer"}},[s._v("å‚è€ƒ"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("observer")])])]),s._v(" "),t("li",[s._v("optionsï¼š\n"),t("ul",[t("li",[s._v("rootï¼šç¥–å…ˆå…ƒç´ ï¼Œé»˜è®¤ä¸ºè§†å£")]),s._v(" "),t("li",[s._v("thresholdï¼šå¯è§åˆ¤å®šç™¾åˆ†æ¯”é˜ˆå€¼")]),s._v(" "),t("li",[s._v("rootMagin")])])])])])]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–ç½‘é¡µå­—ä½“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–ç½‘é¡µå­—ä½“"}},[s._v("#")]),s._v(" ä¼˜åŒ–ç½‘é¡µå­—ä½“")]),s._v(" "),t("ul",[t("li",[s._v("ç½‘é¡µå­—ä½“é€šå¸¸æŒ‡çš„æ˜¯ç½‘ç»œå­—ä½“ï¼Œä¸€èˆ¬ç”± @font-face å®šä¹‰")]),s._v(" "),t("li",[s._v("ç½‘ç»œå­—ä½“çš„åŠ è½½å½±å“æ­£æ–‡æ–‡æœ¬æ­£å¸¸å±•ç¤ºï¼ˆè¯¥æ–‡æ®µå¯èƒ½æ˜¯ç½‘é¡µçš„é‡è¦å‘ˆç°å…ƒç´ ï¼‰")]),s._v(" "),t("li",[s._v("ä¼˜åŒ–æ‰‹æ®µä¸€èˆ¬æ˜¯ä»ä¸¤ä¸ªè§’åº¦ï¼ˆç¼“å­˜é™¤å¤–ï¼‰\n"),t("ul",[t("li",[s._v("å‡å°‘ç½‘ç»œå­—ä½“ä½“ç§¯\n"),t("ul",[t("li",[s._v("ç¼©å°å­—ä½“å­é›†èŒƒå›´\n"),t("ul",[t("li",[s._v("fontmin")]),s._v(" "),t("li",[s._v("unicode-range")])])]),s._v(" "),t("li",[s._v("ä½¿ç”¨ .woff2 å­—ä½“æ ¼å¼ï¼ˆä½“ç§¯å°ã€èƒ½å¤Ÿè¢«ä¼˜å…ˆåŠ è½½ï¼‰")])])]),s._v(" "),t("li",[s._v("æ”¹å˜æµè§ˆå™¨å­—ä½“æ¸²æŸ“ç­–ç•¥\n"),t("ul",[t("li",[s._v("font-display\n"),t("ul",[t("li",[s._v("swapï¼šå…ˆç”¨å¤‡ç”¨å­—ä½“æ¸²æŸ“æ–‡æœ¬ï¼Œç½‘ç»œå­—ä½“è¯·æ±‚å®Œæˆåå†æ›¿æ¢. Quï¼šä¼šå‡ºç°æ— æ ·å¼æ–‡æœ¬é—ªçƒ")]),s._v(" "),t("li",[s._v("blockï¼šé˜»å¡æ–‡æœ¬æ¸²æŸ“çŸ¥é“ç½‘ç»œå­—ä½“ä¸‹è½½å®Œæˆ. Quï¼šä¼šå‡ºç°æ— æ˜¾ç¤ºæ–‡æœ¬é—ªçƒ")]),s._v(" "),t("li",[s._v("optionsï¼šç»å†ä¸€æ®µå¾ˆçŸ­çš„äº¤æ¢æœŸåç›´æ¥ä½¿ç”¨å¤‡ç”¨å­—ä½“æ¸²æŸ“. Quï¼šç½‘ç»œå­—ä½“å¯èƒ½æ— æ³•æ­£å¸¸å±•ç¤º")])])])])])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å­—ä½“åŠ è½½æ—¶æœº")])]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"auto"},attrs:{src:a(337)}}),s._v(" "),t("blockquote",[t("p",[s._v("å­—ä½“åŠ è½½ "),t("code",[s._v("api")])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fontFile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FontFace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'font-name'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'font-url'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ndocument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fonts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fontFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// font åŠ è½½å›è°ƒå‡½æ•°")]),s._v("\nfontFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("blockquote",[t("p",[s._v("local æŒ‡ä»¤")])]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token atrule"}},[t("span",{pre:!0,attrs:{class:"token rule"}},[s._v("@font-face")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-family")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Awesome Font"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("local")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Awesome Font"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string url"}},[s._v('"/fonts/awesome.woff2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"woff2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string url"}},[s._v('"/fonts/awesome.woff"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"woff"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[s._v("localï¼šç”¨äºå¼•ç”¨ã€åŠ è½½å’Œä½¿ç”¨å®‰è£…åœ¨æœ¬åœ°çš„å­—ä½“ï¼Œå¦‚æœç”¨æˆ·å·²ç»åœ¨ç³»ç»Ÿä¸­å®‰è£…äº†è¯¥å­—ä½“ï¼Œä¼šç»•è¿‡ç½‘ç»œåŠ è½½")]),s._v(" "),t("li",[s._v("urlï¼šç”¨äºåŠ è½½å¤–éƒ¨å­—ä½“ï¼Œå¯åŒ…å«å¯é€‰çš„ "),t("code",[s._v("format()")]),s._v(" æç¤ºï¼Œæç¤ºç½‘å€å¼•ç”¨çš„å­—ä½“æ ¼å¼")])]),s._v(" "),t("blockquote",[t("p",[s._v("å­—ä½“å­é›† "),t("code",[s._v("unicode-range")])])]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token atrule"}},[t("span",{pre:!0,attrs:{class:"token rule"}},[s._v("@font-face")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-family")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Awesome Font"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("local")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Awesome Font"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string url"}},[s._v('"/fonts/awesome-l.woff2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"woff2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("unicode-range")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" U+000-5FF"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("code",[s._v("unicode-range")]),s._v("ï¼šå¯ä»¥æŒ‡å®šå­—ä½“å­é›†ï¼ˆæ‹‰ä¸ã€æ—¥è¯­â€¦â€¦ï¼‰. ä¸‹è½½æ—¶æµè§ˆå™¨åŠ è½½å¯¹åº”å­é›†éœ€è¦çš„å­—ä½“å­—å½¢ã€‚æ”¯æŒæŒ‡å®šå¤šä¸ªåŒºé—´å­é›†. ä½†æ˜¯å› ä¸º unicode æ²¡æœ‰åŒ…å«è¶³å¤Ÿå¤šçš„è¯­è¨€ï¼ˆäºšæ´²ä¸œéƒ¨è±¡å½¢æ–‡å­—ï¼‰å¯¼è‡´ä½¿ç”¨ä¸Šå­˜åœ¨é™åˆ¶ "),t("a",{attrs:{href:"https://www.cnblogs.com/csguo/p/7401874.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("unicode ç¼–ç è¡¨"),t("OutboundLink")],1)]),s._v(" "),t("blockquote",[t("p",[s._v("fontmin")])]),s._v(" "),t("p",[s._v("æå– "),t("code",[s._v("ttf")]),s._v(" å­—ä½“ä¸­éœ€è¦ç”¨åˆ°çš„å­—ç¬¦ç„¶åè½¬æ¢ä¸º "),t("code",[s._v("ttf")]),s._v(" æ–‡ä»¶è¾“å‡ºä»è€Œå®ç°å‹ç¼©æ•ˆæœ. æå–å­—ä½“æ˜¯å…³é”®")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("font-spider")]),s._v("ï¼šæå–ç½‘é¡µä¸­ä½¿ç”¨åˆ°è¿™ä¸ªå­—ä½“çš„æ–‡å­—é›†åˆ")])]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–-css"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–-css"}},[s._v("#")]),s._v(" ä¼˜åŒ– css")]),s._v(" "),t("ul",[t("li",[s._v("css æ˜¯ç½‘é¡µä¸­çš„æ ·å¼æ–‡ä»¶ã€‚å†³å®šç€ç½‘é¡µå‘ˆç°æ•ˆæœ")]),s._v(" "),t("li",[s._v("css èµ„æºä¼šé˜»å¡ js çš„è§£æä¸æ‰§è¡Œï¼›åŒæ—¶ cssom å½¢æˆçš„æ—¶æœºå†³å®šç€æ¸²æŸ“å¼€å§‹")]),s._v(" "),t("li",[s._v("ä»ä¼˜åŒ–è§’åº¦æ¥è¯´\n"),t("ul",[t("li",[s._v("å‡å°‘ css ä½“ç§¯ï¼ˆé‡è¦å› ç´ ï¼‰")]),s._v(" "),t("li",[s._v("åˆ†ç¦»å…³é”® css ä¸ éå…³é”® css")]),s._v(" "),t("li",[s._v("å¤šåª’ä½“æŸ¥è¯¢åŠ è½½å›¾ç‰‡")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å‡å°‘ä½“ç§¯")])]),s._v(" "),t("p",[s._v("é€šå¸¸æ„å»ºå·¥å…·éƒ½æœ‰å¯ä»¥å‹ç¼© css èµ„æºçš„æ’ä»¶.")]),s._v(" "),t("ul",[t("li",[s._v("webpack\n"),t("ul",[t("li",[t("code",[s._v("optimize-css-assets-plugin")]),s._v("ï¼šå‹ç¼© css")]),s._v(" "),t("li",[t("code",[s._v("mini-css-extract-plugin")]),s._v("ï¼šå°†æ¯ä¸ªæ ·å¼è¡¨æå–åˆ°è‡ªå·±çš„æ–‡ä»¶ä¸­")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("æå–å…³é”® css")])]),s._v(" "),t("p",[s._v("å…³é”® css æ„å‘³ç€æ˜¯é¡µé¢é¦–å±æ•ˆæœå¿…é¡»çš„æ ·å¼èµ„æº. å°†å…³é”® css å†…è”æ„å‘³ä¸ºä¸éœ€è¦å‘èµ·ç½‘ç»œè¯·æ±‚å°±å¯ä»¥ç›´æ¥èµ‹äºˆæ ·å¼å˜æ›´èƒ½åŠ›.")]),s._v(" "),t("p",[s._v("Quï¼šæ ·å¼å†…è”æ²¡åŠæ³•åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œéœ€è°¨æ…ä½¿ç”¨è¯¥è¡Œä¸º")]),s._v(" "),t("blockquote",[t("p",[s._v("æ ¹æ®ä¸åŒå±å¹•å¤§å°åŠ è½½ä¸åŒå°ºå¯¸çš„å›¾ç‰‡")])]),s._v(" "),t("p",[s._v("ç”µè„‘ã€å¹³æ¿ã€æ‰‹æœº â€”â€” ä¸åŒè®¾å¤‡å¯¹äºå›¾ç‰‡çš„å¤§å°&åˆ†è¾¨ç‡ä¸ä¸€è‡´ï¼Œå¤šåª’ä½“æŸ¥è¯¢å¯ä»¥æ ¹æ®ä¸åŒå±å¹•å¤§å°åŠ è½½ä¸åŒå›¾ç‰‡ä»è€Œåœ¨ä¸åŒè®¾å¤‡ä¸Šèƒ½å¤Ÿå®ç°å›¾ç‰‡ä½“ç§¯é€’å‡ã€‚é€šå¸¸æ¥è¯´æ¡Œé¢è®¾å¤‡å±å¹•çš„å›¾ç‰‡ä¼šæ¯”ç§»åŠ¨è®¾å¤‡çš„èƒŒæ™¯å¤§")]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æº"}},[s._v("#")]),s._v(" ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æº")]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸‰æ–¹èµ„æºæŒ‡çš„æ˜¯ä»ç¬¬ä¸‰æ–¹ç½‘ç«™åŠ è½½çš„ JS è„šæœ¬")]),s._v(" "),t("li",[s._v("ç¬¬ä¸‰æ–¹ JS è„šæœ¬ä¼šé˜»å¡é¡µé¢è§£æå’Œæ¸²æŸ“ï¼Œå¦‚æœä½ç½®åœ¨é‡è¦èµ„æºå‰é¢çš„åŒ–ä¼šå¯¼è‡´å†…å®¹å»¶æ—¶æ¸²æŸ“ï¼Œé™ä½ç”¨æˆ·ä½“éªŒ")]),s._v(" "),t("li",[s._v("ä¼˜åŒ–çš„æ‰‹æ®µ\n"),t("ul",[t("li",[s._v("å¼‚æ­¥åŠ è½½èµ„æº")]),s._v(" "),t("li",[s._v("å°½æ—©äºç¬¬ä¸‰æ–¹å»ºç«‹ TCP è¿æ¥ï¼ˆDNS åŸŸåè§£æï¼‰")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å¼‚æ­¥åŠ è½½èµ„æº")])]),s._v(" "),t("ul",[t("li",[s._v("å¯¹äºéå…³é”®è„šæœ¬å°½é‡ä½¿ç”¨ "),t("code",[s._v("async")]),s._v(" æ ‡è¯†")]),s._v(" "),t("li",[s._v("JS èµ„æºçš„ä½ç½®å°½é‡æ”¾åœ¨é¡µé¢åº•éƒ¨")])]),s._v(" "),t("h2",{attrs:{id:"ä¼˜åŒ–-javascript"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–-javascript"}},[s._v("#")]),s._v(" ä¼˜åŒ– javascript")]),s._v(" "),t("ul",[t("li",[s._v("javascript é€šå¸¸æŒ‡çš„æ˜¯é¡µé¢äº¤äº’çš„å¿…è¦èµ„æº")]),s._v(" "),t("li",[s._v("javascript èµ„æºçš„åŠ è½½ä¼šé˜»å¡é¡µé¢è§£æ & æ¸²æŸ“")]),s._v(" "),t("li",[s._v("ä¼˜åŒ–æ‰‹æ®µ\n"),t("ul",[t("li",[s._v("å¼‚æ­¥åŠ è½½")]),s._v(" "),t("li",[s._v("æ‹†åˆ†å¤§æ–‡ä»¶ï¼ˆæ„å»ºåˆ†ç¦» chunkï¼‰")]),s._v(" "),t("li",[s._v("ç¼©å‡å¤§å°ã€æ•°æ®å‹ç¼©")]),s._v(" "),t("li",[s._v("ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("æ‹†åˆ†å¤§æ–‡ä»¶")])]),s._v(" "),t("p",[s._v("ä¸åŒæ„å»ºå·¥å…·ï¼ˆ webpackã€vite ï¼‰éƒ½æœ‰ "),t("code",[s._v("splitChunk")]),s._v(" çš„æ¦‚å¿µ â€”â€” "),t("code",[s._v("splitChunk")]),s._v(" å³ä»¥ä¸€å®šçš„ç­–ç•¥æ‹†åˆ†æ‰“åŒ…çš„ JS ä»£ç . ä»¥ä¸‹ä» webpack æ¥è®²ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æ–°çš„ chunk å¯ä»¥è¢«å…±äº«ï¼Œæˆ–è€…æ¨¡å—æ¥è‡ªäº "),t("code",[s._v("node_modules")]),s._v(" æ–‡ä»¶å¤¹")])]),s._v(" "),t("li",[t("p",[s._v("æ–°çš„ chunk ä½“ç§¯å¤§äº 20kbï¼ˆåœ¨è¿›è¡Œ min+gz ä¹‹å‰çš„ä½“ç§¯ï¼‰")])]),s._v(" "),t("li",[t("p",[s._v("å½“æŒ‰éœ€åŠ è½½ chunks æ—¶ï¼Œå¹¶è¡Œè¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30")])]),s._v(" "),t("li",[t("p",[s._v("å½“åŠ è½½åˆå§‹åŒ–é¡µé¢æ—¶ï¼Œå¹¶å‘è¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30")])])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/152097785",target:"_blank",rel:"noopener noreferrer"}},[s._v("Wepack ä¹‹ splitchunk"),t("OutboundLink")],1),s._v("ï¼šæ–‡ç« ä» chunks å‘½ä»¤è®²èµ·ï¼Œä»‹ç»äº†ä¸åŒ chunk å‘½åçš„åœºæ™¯ï¼ŒåŒæ—¶ä»‹ç»äº† splitchunk çš„é€‰é¡¹ï¼Œç€é‡ä»‹ç»äº† "),t("code",[s._v("cacheGroup")]),s._v(" â€”â€” å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰å»é…ç½®ä¸€äº› chunk åˆ†ç¦»çš„ç­–ç•¥ï¼ˆç»“åˆ "),t("code",[s._v("webpack-analyser-bundle")]),s._v(" å¯ä½œæ€§èƒ½ä¼˜åŒ–ï¼‰")]),s._v(" "),t("p",[s._v("ğŸ” æ‹†åˆ†çš„æ„ä¹‰åœ¨äºå»¶è¿ŸåŠ è½½ï¼Œåœ¨åˆå§‹ bundle åŠ è½½çš„æ—¶å€™ä¸ä¼šçº³å…¥")]),s._v(" "),t("blockquote",[t("p",[s._v("ç¼©å‡å¤§å°ã€æ•°æ®å‹ç¼©")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ç¼©å‡å¤§å°ï¼š"),t("code",[s._v("webpack4")]),s._v(" ä»¥ä¸Šé»˜è®¤æ”¯æŒ "),t("code",[s._v("terser")]),s._v(".")]),s._v(" "),t("ul",[t("li",[s._v("tree-shakingï¼šåˆ é™¤æ²¡æœ‰ä½¿ç”¨çš„ä»£ç å—")]),s._v(" "),t("li",[s._v("ä»£ç æ··æ·†")])])]),s._v(" "),t("li",[t("p",[s._v("æ•°æ®å‹ç¼©")]),s._v(" "),t("ul",[t("li",[s._v("gzip")]),s._v(" "),t("li",[s._v("botli")])])])]),s._v(" "),t("h1",{attrs:{id:"æ€§èƒ½è¡¡é‡æŒ‡æ ‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½è¡¡é‡æŒ‡æ ‡"}},[s._v("#")]),s._v(" æ€§èƒ½è¡¡é‡æŒ‡æ ‡")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»¥ä¸‹æŒ‡æ ‡å‡å¯ä»¥è¡¡é‡é¡µé¢åŠ è½½çš„æƒ…å†µï¼Œå…¶ä¸­ LCPã€CLSã€FID ä¸º google è§„å®šçš„æ ¸å¿ƒæŒ‡æ ‡ï¼Œä»¥ä¸‹ä¼šæ¶µç›–æŒ‡æ ‡çš„æè¿°åŠå…¶å¯¹åº”çš„è®¡ç®—")])]),s._v(" "),t("p",[t("code",[s._v("web-vitals")]),s._v("ï¼š"),t("code",[s._v("web-vitals")]),s._v(" æä¾›å‡½æ•°å¯ä»¥è·å–ä»¥ä¸‹æŒ‡æ ‡ï¼Œä½†æ˜¯ä¸å…¼å®¹è‹¹æœæµè§ˆå™¨ï¼Œå› æ­¤éœ€è¦æˆ‘ä»¬è¿›è¡Œè®¾å¤‡å…¼å®¹ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ffid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffid"}},[s._v("#")]),s._v(" FFID")]),s._v(" "),t("h2",{attrs:{id:"fcp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fcp"}},[s._v("#")]),s._v(" FCP")]),s._v(" "),t("h2",{attrs:{id:"lcp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lcp"}},[s._v("#")]),s._v(" LCP")]),s._v(" "),t("h2",{attrs:{id:"cls"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cls"}},[s._v("#")]),s._v(" CLS")]),s._v(" "),t("h2",{attrs:{id:"fid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fid"}},[s._v("#")]),s._v(" FID")]),s._v(" "),t("h1",{attrs:{id:"performance-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-api"}},[s._v("#")]),s._v(" Performance API")]),s._v(" "),t("h2",{attrs:{id:"performance-navigation-åºŸå¼ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-navigation-åºŸå¼ƒ"}},[s._v("#")]),s._v(" Performance.navigation(åºŸå¼ƒ)")]),s._v(" "),t("p",[s._v("è¿”å›ä¸€ä¸ª "),t("code",[s._v("PeformanceNavigation")]),s._v(" å¯¹è±¡")]),s._v(" "),t("ul",[t("li",[s._v("typeï¼šå¯¼èˆªåˆ°è¿™ä¸ªé¡µé¢çš„æ–¹å¼\n"),t("ul",[t("li",[s._v("0 ("),t("code",[s._v("TYPE_NAVIGATE")]),s._v(")ï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥ï¼Œä¹¦ç­¾å’Œè¡¨å•æäº¤ï¼Œæˆ–è€…åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¾“å…¥ç½‘å€")]),s._v(" "),t("li",[s._v("1 ("),t("code",[s._v("TYPE_RELOAD")]),s._v(")ï¼šç‚¹å‡»åˆ·æ–°é¡µé¢æˆ–è€…é€šè¿‡ "),t("code",[s._v("location.reload")]),s._v(" åˆ·æ–°é¡µé¢")]),s._v(" "),t("li",[s._v("2 ("),t("code",[s._v("TYPE_BACK_FORWARD")]),s._v(")ï¼šé¡µé¢é€šè¿‡å†å²è®°å½•å’Œå‰è¿›åé€€è®¿é—®")]),s._v(" "),t("li",[s._v("255 ("),t("code",[s._v("TYPE_RESERVED")]),s._v(")ï¼šä»»ä½•å…¶ä»–æ–¹å¼")])])]),s._v(" "),t("li",[s._v("redirctCountï¼šåˆ°è¾¾è¿™ä¸ªé¡µé¢ä¹‹å‰é‡å®šå‘äº†å¤šå°‘æ¬¡")])]),s._v(" "),t("h2",{attrs:{id:"performance-getentries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-getentries"}},[s._v("#")]),s._v(" Performance.getEntries()")]),s._v(" "),t("p",[s._v("è¿”å› "),t("code",[s._v("PerformanceEntry")]),s._v(" æ•°ç»„. "),t("code",[s._v("PerformanceEntry")]),s._v(" æ¯ä¸€é¡¹ä»£è¡¨çš„æ˜¯æµè§ˆå™¨ metric æ•°æ®")]),s._v(" "),t("ul",[t("li",[s._v("navigationï¼šé¡µé¢åŠ è½½å‘¨æœŸç»å†äº‹ä»¶. æ•°æ®ç±»å‹ => "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigationTiming",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("resourceï¼šèµ„æºåŠ è½½çš„æƒ…å†µï¼ˆåŒ…æ‹¬ JSã€CSSã€å›¾ç‰‡èµ„æºï¼‰ æ•°æ®ç±»å‹ => "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceResourceTiming",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("markï¼šä½¿ç”¨ "),t("code",[s._v("Performance.mark")]),s._v(" åˆ›å»ºçš„è‡ªå®šä¹‰ metric æ•°æ®. æ•°æ®ç±»å‹ => "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/PerformanceMark",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("measureï¼šä½¿ç”¨ "),t("code",[s._v("Performance.measure")]),s._v(" åˆ›å»ºçš„è‡ªå®šä¹‰ metric èŒƒå›´. æ•°æ®ç±»å‹ => "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/PerformanceMeasure",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("paintï¼šå…³äº "),t("code",[s._v("first-paint")]),s._v(" & "),t("code",[s._v("first-contentful-paint")]),s._v(" æ•°æ®. æ•°æ®ç±»å‹ => "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformancePaintTiming",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1)])]),s._v(" "),t("blockquote",[t("p",[s._v("resource metric example")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://www.google-analytics.com/analytics.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// èµ„æºåŠ è½½çš„é“¾æ¥")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"entryType"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"resource"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// performance metric")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"startTime"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("391")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¼€å§‹æ—¶é—´")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"duration"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("792")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// èµ„æºåŠ è½½æŒç»­æ—¶é—´")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"initiatorType"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"script"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// èµ„æºåŠ è½½ç±»å‹(scriptã€css(image\\svg)ã€fetchã€link(css))")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"nextHopProtocol"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"workerStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"redirectStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"redirectEnd"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"fetchStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("391")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"domainLookupStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"domainLookupEnd"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"connectStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"connectEnd"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"secureConnectionStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"requestStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"responseStart"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"responseEnd"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1183")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"transferSize"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"encodedBodySize"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"decodedBodySize"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"serverTiming"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("h2",{attrs:{id:"performance-getentriesbytype"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-getentriesbytype"}},[s._v("#")]),s._v(" Performance.getEntriesByType")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æè¿°ï¼šè·å–æŒ‡å®š type metric (resource / navigation / mark)")])]),s._v(" "),t("li",[t("p",[s._v("ä½¿ç”¨")])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("performance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getEntriesByType")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// return array")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è¿”å›çš„æ˜¯å¯¹åº” type metric ç±»å‹çš„æ•°æ®ï¼Œè¯¦ç»†è§ä¸Šé¢ MDN é“¾æ¥")]),s._v(" "),t("h2",{attrs:{id:"performance-getentriesbyname"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-getentriesbyname"}},[s._v("#")]),s._v(" Performance.getEntriesByName")]),s._v(" "),t("ul",[t("li",[s._v("æè¿°ï¼šè·å–æŒ‡å®š type æŒ‡å®š name(script / css / link â€¦â€¦) metric")]),s._v(" "),t("li",[s._v("ä½¿ç”¨")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("performance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getEntriesByName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// return array")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"performance-mark"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance-mark"}},[s._v("#")]),s._v(" Performance.mark")]),s._v(" "),t("blockquote",[t("p",[s._v("Performance.mark å’Œ Performance.measure å¯ä¸€èµ·ç†è§£")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æè¿°ï¼šä¸¤è€…éƒ½æ˜¯é€šè¿‡è‡ªå®šä¹‰ browser metric ç±»å‹æ¥ä½œä¸€äº›è‡ªå®šä¹‰é€»è¾‘å¤„ç†")])]),s._v(" "),t("li",[t("p",[s._v("åŒºåˆ«ï¼šä¸åŒä¹‹å‰åœ¨äºå‰è€…(mark) æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ª browser metricï¼Œåè€… ï¼ˆmeasureï¼‰æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ª type åŒºé—´ï¼Œå³åŸºäºä¸¤ä¸ª type metric è‡ªå®šä¹‰ä¸€ä¸ª browser metric.")])]),s._v(" "),t("li",[t("p",[s._v("ä½¿ç”¨")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("performance.mark")]),s._v(" å¯èƒ½ä¼šåœ¨åœ¨æŸä¸ªç”Ÿå‘½å‘¨æœŸæˆ–è€…å®šæ—¶å™¨å»å®šä¹‰")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("performance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mark")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("performance.measure")]),s._v(" é€šè¿‡ç”¨äºåˆ†æè¡¡é‡ä¸¤ä¸ªå‘¨æœŸä¹‹é—´çš„è¡Œä¸º")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("performance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("measure")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" metric1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" metric2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])])]),s._v(" "),t("h1",{attrs:{id:"observer-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#observer-api"}},[s._v("#")]),s._v(" Observer API")]),s._v(" "),t("h2",{attrs:{id:"performanceobserver-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performanceobserver-api"}},[s._v("#")]),s._v(" PerformanceObserver API")]),s._v(" "),t("ul",[t("li",[s._v("æè¿°ï¼šç›‘æµ‹æ€§èƒ½åº¦é‡äº‹ä»¶ï¼ˆæµè§ˆå™¨æ€§èƒ½æ—¶é—´è½´è®°å½•æ–°çš„ "),t("code",[s._v("performance entry")]),s._v(" æ—¶å€™ä¼šè¢«é€šçŸ¥ï¼‰")]),s._v(" "),t("li",[s._v("å‚æ•°\n"),t("ul",[t("li",[s._v("callback\n"),t("ul",[t("li",[s._v("PerformanceObserverEntryList\n"),t("ul",[t("li",[s._v("getEntries")]),s._v(" "),t("li",[s._v("getEntriesByname")]),s._v(" "),t("li",[s._v("getEntriesByType")])])]),s._v(" "),t("li",[s._v("observer")])])])])]),s._v(" "),t("li",[s._v("ä½¿ç”¨")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" observer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PerformanceObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"observe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#observe"}},[s._v("#")]),s._v(" observe")]),s._v(" "),t("ul",[t("li",[s._v("æè¿°ï¼šç›‘å¬ä¼ å…¥å‚æ•°ä¸­æŒ‡å®šçš„æ€§èƒ½æ¡ç›®ç±»å‹é›†åˆ")]),s._v(" "),t("li",[s._v("ä½¿ç”¨")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" observer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PerformanceObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nobserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entryTypes")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("blockquote",[t("p",[s._v("ç›®å‰ä¸€äº› entryTypes è¿˜å±äºæ˜¯å®éªŒå®¤å±æ€§ï¼Œå› æ­¤å¯èƒ½åœ¨æ”¯æŒè¡¨æ ¼ä¸­æ‰¾ä¸åˆ° "),t("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2023/08/js-performanceobserver-api/",target:"_blank",rel:"noopener noreferrer"}},[s._v("blog"),t("OutboundLink")],1)])]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"auto"},attrs:{src:a(338)}}),s._v(" "),t("h3",{attrs:{id:"disconnect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disconnect"}},[s._v("#")]),s._v(" disconnect")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æè¿°ï¼šé˜»æ­¢æ€§èƒ½è§‚å¯Ÿè€…æ¥æ”¶ä»»åŠ¡æ€§èƒ½æ¡ç›®äº‹ä»¶")])]),s._v(" "),t("li",[t("p",[s._v("ä½¿ç”¨")])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("callback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" observer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  observer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("disconnect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åé¢ä¸å†å¯¹å…¶ä»–äº‹ä»¶è¿›è¡Œç›‘å¬")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" observer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PerformanceObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"mutationobserver-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mutationobserver-api"}},[s._v("#")]),s._v(" MutationObserver API")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æè¿°ï¼šæä¾›äº†å¯¹ DOM æ ‘æ›´æ”¹ç›‘å¬çš„èƒ½åŠ›. ä¼šåœ¨è§¦å‘æŒ‡å®š DOM äº‹ä»¶åè°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°")])]),s._v(" "),t("li",[t("p",[s._v("å‚æ•°")])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("callback\n"),t("ul",[t("li",[t("code",[s._v("MutationRecord")]),s._v("ï¼š"),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MutationRecord",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN"),t("OutboundLink")],1),s._v(" DOM èŠ‚ç‚¹ä¿®æ”¹çš„ä¸€äº›ä¿¡æ¯")]),s._v(" "),t("li",[t("code",[s._v("observer")]),s._v("ï¼šè§‚å¯Ÿè€…å¯¹è±¡")])])])])]),s._v(" "),t("li",[t("p",[s._v("ä½¿ç”¨")])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" observer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MutationObserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"observe-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#observe-2"}},[s._v("#")]),s._v(" observe")]),s._v(" "),t("ul",[t("li",[s._v("æè¿°ï¼šå¯¹æŒ‡å®š DOM è¿›è¡Œç›‘å¬")]),s._v(" "),t("li",[s._v("å‚æ•°\n"),t("ul",[t("li",[t("code",[s._v("target")]),s._v("ï¼šDOM æ ‘ä¸­ä¸€ä¸ªè¦è§‚å¯Ÿå˜åŒ–çš„ DOM")]),s._v(" "),t("li",[t("code",[s._v("options")]),s._v("ï¼šæè¿° DOM çš„å“ªäº›å˜åŒ–åº”è¯¥æŠ¥å‘Šç»™ "),t("code",[s._v("MutationObserver")]),s._v(" çš„ "),t("code",[s._v("callback")]),s._v("ï¼ˆå³ "),t("code",[s._v("MutationRecord")]),s._v(" targetï¼‰\n"),t("ul",[t("li",[s._v("subtree")]),s._v(" "),t("li",[s._v("childList")]),s._v(" "),t("li",[s._v("attributes")]),s._v(" "),t("li",[s._v("attributeFilter")]),s._v(" "),t("li",[s._v("attributeOldValue")]),s._v(" "),t("li",[s._v("characterData")]),s._v(" "),t("li",[s._v("characterDataOldValue")])])])])])]),s._v(" "),t("h3",{attrs:{id:"disconnect-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disconnect-2"}},[s._v("#")]),s._v(" disconnect")]),s._v(" "),t("ul",[t("li",[s._v("æè¿°ï¼šåœæ­¢å¯¹ DOM æ›´æ–°äº‹ä»¶çš„ç›‘å¬")])]),s._v(" "),t("h2",{attrs:{id:"intersectionobserver-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#intersectionobserver-api"}},[s._v("#")]),s._v(" IntersectionObserver API")]),s._v(" "),t("h2",{attrs:{id:"resizeobserver-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resizeobserver-api"}},[s._v("#")]),s._v(" ResizeObserver API")])])}),[],!1,null,null,null);t.default=e.exports}}]);