(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{300:function(s,t,a){s.exports=a.p+"assets/img/image-11.3fc393a3.png"},322:function(s,t,a){s.exports=a.p+"assets/img/image-01.a6e11326.png"},323:function(s,t,a){s.exports=a.p+"assets/img/image-02.f3b32921.png"},324:function(s,t,a){s.exports=a.p+"assets/img/image-03.64ed5d25.png"},325:function(s,t,a){s.exports=a.p+"assets/img/image-04.01248765.png"},326:function(s,t,a){s.exports=a.p+"assets/img/image-05.f3b32921.png"},327:function(s,t,a){s.exports=a.p+"assets/img/image-06.9c4c597e.png"},328:function(s,t,a){s.exports=a.p+"assets/img/image-07.e7f2ed9c.png"},329:function(s,t,a){s.exports=a.p+"assets/img/image-08.80adfbb1.png"},330:function(s,t,a){s.exports=a.p+"assets/img/image-09.f98592b4.png"},331:function(s,t,a){s.exports=a.p+"assets/img/image-10.eda1e284.png"},332:function(s,t,a){s.exports=a.p+"assets/img/image-12.6c128625.png"},410:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"æŠ€æœ¯èƒŒæ™¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯èƒŒæ™¯"}},[s._v("#")]),s._v(" æŠ€æœ¯èƒŒæ™¯")]),s._v(" "),t("h2",{attrs:{id:"ä¸»æµæŠ€æœ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»æµæŠ€æœ¯"}},[s._v("#")]),s._v(" ä¸»æµæŠ€æœ¯")]),s._v(" "),t("p",[s._v("æ¡Œé¢åº”ç”¨å¼€å‘æŠ€æœ¯å…¶å®æœ‰å¾ˆå¤šï¼Œ qtã€nw.jsã€electronã€tauriã€‚")]),s._v(" "),t("ul",[t("li",[s._v("qt ä½¿ç”¨ c++ å¼€å‘ï¼Œè´´è¿‘åº•å±‚å¼€å‘ï¼Œæ•ˆç‡é«˜")]),s._v(" "),t("li",[s._v("nw.js & electron ï¼šå…è®¸æˆ‘ä»¬ä½¿ç”¨ web å¼€å‘çš„æŠ€æœ¯æ„å»ºåº”ç”¨")]),s._v(" "),t("li",[s._v("tauriï¼šè¿‘æœŸå…´èµ·ï¼Œä½¿ç”¨ rust ä½œä¸ºé€»è¾‘åç«¯ï¼Œå¯ä»¥ä½¿ç”¨å‰ç«¯æŠ€æœ¯å¼€å‘é€»è¾‘å‰ç«¯")]),s._v(" "),t("li",[s._v("flutterï¼šä½¿ç”¨ dart å¼€å‘")]),s._v(" "),t("li",[s._v("tauri ä½¿ç”¨ rust ä½œä¸ºé€»è¾‘åç«¯ï¼ŒåŸºäº rust å†…å­˜å ç”¨ä½ å’Œ tauri æœ¬èº«æ”¾å¼ƒ chromium è½¬è€Œä½¿ç”¨ç³»ç»Ÿå†…ç½® webview çš„ç­–ç•¥ï¼Œè§£å†³äº† electron é«˜å†…å­˜å ç”¨ & æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ï¼Œå› æ­¤å…·å¤‡å¾ˆé«˜çš„æ½œåŠ›ã€‚ä½†æ˜¯ç”±äºé€»è¾‘åç«¯æ˜¯ rust æŠ€æœ¯æ ˆï¼Œä¸Šæ‰‹éš¾åº¦ä¼šæ¯”è¾ƒé«˜ï¼Œå­¦ä¹ æˆæœ¬å¤§ã€‚")]),s._v(" "),t("li",[s._v("flutter ä½œä¸ºä¸€ä¸ªåœ¨ app ç«¯è·¨å¹³å°çš„å·¥å…·ï¼Œç›®å‰å…¶å®ä¹Ÿå·²ç»é€æ­¥èƒ½è¿ç§»åˆ°æ¡Œé¢å¼€å‘ï¼ŒåŸºäºè‡ªå»ºçš„ä¸€å¥— ui æ¸²æŸ“å¼•æ“åŒæ ·å¯ä»¥é¿å…æ‰“å…¥ chromium çš„é—®é¢˜ï¼ŒåŒæ ·å…·å¤‡ä¸€å¥—ä»£ç å…¼å®¹å¤šå¹³å°å¼€å‘çš„èƒ½åŠ›")])]),s._v(" "),t("p",[s._v("ä»¥ä¸Šæ˜¯ä»æ•´ä¸ªå¼€å‘ç”Ÿæ€ä¸Šçš„ä»‹ç»ï¼Œé‚£é’ˆå¯¹å‰ç«¯å¼€å‘äººå‘˜ï¼Œä¸»æµæŠ€æœ¯æ ˆä¸ºï¼šJS/TSï¼Œä¸Šæ‰‹å¼€å‘æˆæœ¬æœ€ä½çš„æ˜¯ nw.js & electronï¼Œelectron ç›¸æ¯” nw.js ç¤¾åŒºæ›´æ´»è·ƒï¼Œå¾ˆå¤šå¤§åº”ç”¨åŸºäº electron æ„å»ºã€‚åƒ vscodeã€QQï¼ˆä½¿ç”¨ electron é‡æ„ï¼‰ï¼Œå¾ˆå¤šé—®é¢˜åœ¨ç¤¾åŒºéƒ½èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚å› æ­¤æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹å…¶å®è¿˜æ˜¯é¦–é€‰ electron ä½œä¸ºå¼€å‘æ¡†æ¶ã€‚ä¸‹é¢ä¹Ÿä¸»è¦å›´ç»• electron ç›¸å…³è¿›è¡Œä»‹ç»ã€‚")]),s._v(" "),t("h2",{attrs:{id:"å·¥ä½œåŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œåŸç†"}},[s._v("#")]),s._v(" å·¥ä½œåŸç†")]),s._v(" "),t("p",[s._v("å¯¹äºè·¨ç«¯æ¡†æ¶æˆ‘ä»¬å¯èƒ½æ¯”è¾ƒæ„Ÿå…´è¶£è¿™ä¸ªæ¡†æ¶æ˜¯æ€ä¹ˆå»å®ç°å¤šå¹³å°å…¼å®¹ä»¥åŠå®ç°è¿‡ç¨‹ä¸­éƒ½è§£å†³äº†ä»€ä¹ˆé‡è¦çš„é—®é¢˜ã€‚é‚£å¯¹äº electron æ¥è¯´ï¼Œèƒ½å¤Ÿè·¨ç«¯çš„åŸå› æ˜¯é›†æˆäº† chromiumã€‚chromium æ˜¯ä¸€ä¸ªæ¸²æŸ“å¼•æ“ï¼Œæœ¬èº«æ˜¯å¯ä»¥åœ¨å¤šä¸ª os æ¶æ„ä¸‹ä½¿ç”¨ï¼Œå› æ­¤ä½¿ç”¨ chromium ä½œä¸º UI æ¸²æŸ“å¯ä»¥åšåˆ°å¤šç«¯ UI ä¸€è‡´ï¼ˆä¸éœ€è¦è€ƒè™‘å¹³å°å…¼å®¹æ€§çš„é—®é¢˜ï¼‰ã€‚chromium ä½œä¸ºä¸€ä¸ªæ¸²æŸ“å¼•æ“æœ¬èº«å¹¶ä¸èƒ½è¿›è¡Œ ä¸€äº›ä¸ç³»ç»Ÿç›¸å…³ GUI ç¼–ç¨‹ ï¼Œå› æ­¤ electron åŒæ—¶é›†æˆäº† node æä¾›æ–‡ä»¶ã€ç½‘ç»œå¤„ç†çš„èƒ½åŠ›ã€‚æ—¢ç„¶æ˜¯æ¡Œé¢åº”ç”¨ï¼Œé‚£åº”ç”¨å…ä¸äº†æ˜¯è¦è·Ÿæ“ä½œç³»ç»Ÿæ‰“äº¤é“ï¼Œåƒç³»ç»Ÿæ‰˜ç›˜ï¼Œæ¶ˆæ¯é€šçŸ¥â€¦â€¦ï¼Œè¿™æ˜¯ node æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œå› æ­¤æœ€åå°è£…äº† native api æä¾›åº”ç”¨è°ƒç”¨åº•å±‚ç³»ç»Ÿ api åŠŸèƒ½çš„èƒ½åŠ›ã€‚")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(322)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 1 electron ä¸‰å‰‘å®¢")]),t("br"),s._v(" "),t("p",[s._v("é›†æˆäº† chromium & node.js æœ€å¤§é—®é¢˜æ˜¯éœ€è¦è§£å†³ chromium & node.js äº‹ä»¶å¾ªç¯ä¸ä¸€è‡´çš„é—®é¢˜ã€‚å¥½å¥‡ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿelectron é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„ï¼Œåˆ†ä¸ºä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ï¼Œæ— è®ºæ˜¯ä¸»è¿›ç¨‹è¿˜æ˜¯æ¸²æŸ“è¿›ç¨‹éƒ½ç”± js å»æ§åˆ¶ï¼Œæ¡†æ¶å¹¶ä¸é™åˆ¶æ¸²æŸ“è¿›ç¨‹å†…ä½¿ç”¨ node apiï¼Œå› æ­¤è¿™å°±æœ‰ä¸€ä¸ªçŸ›ç›¾ç‚¹ï¼šåœ¨ chromium main thread ä¸­ä¼šåŒæ—¶å‡ºç°ä¸¤ä¸ªè¿è¡Œæ—¶ï¼Œå„è‡ªéƒ½æœ‰äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆæ§åˆ¶ js å‘¨æœŸæ‰§è¡Œï¼‰ï¼Œjs å•çº¿ç¨‹åŒä¸€æ—¶é—´åªèƒ½å­˜åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œå› æ­¤éœ€è¦åè°ƒã€‚")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(323)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 2 electron å¤šè¿›ç¨‹æ¶æ„")]),t("br"),s._v(" "),t("p",[s._v("æ€ä¹ˆæ•´åˆå‘¢ï¼Ÿelectron ç»™å‡ºäº†ä¸€ä¸ªæ•´åˆæ–¹æ¡ˆï¼šä½¿ç”¨ libuv é‡å†™ chromium message loop æ¥å£\né‡å†™åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹\nchromium render è¿›ç¨‹\nchromium browser è¿›ç¨‹\nä¸ºå•¥æ˜¯è¿™ä¸¤ï¼Ÿè¦ä» chromium å¤šçº¿ç¨‹æ¶æ„è¯´èµ· introduction")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(324)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 3 chromuim å¤šè¿›ç¨‹æ¶æ„<")]),t("br"),s._v(" "),t("p",[s._v("é‡å†™çš„è¿‡ç¨‹ä¸­å‘ç°ï¼šrender è¿›ç¨‹åªéœ€è¦è¦†ç›–äº‹ä»¶ç›‘å¬çš„æœºåˆ¶å°±å¥½ï¼›è€Œå¯¹äº browser è¿›ç¨‹ï¼Œä¸åŒæ“ä½œç³»ç»Ÿå®ç°çš„äº‹ä»¶å¾ªç¯åº•å±‚é€»è¾‘è¿˜ä¸ä¸€æ ·ï¼ˆæˆ‘ç†è§£æ˜¯ä¸åŒç³»ç»Ÿå¤„ç†äº‹ä»¶è®¢é˜…ä½¿ç”¨åº“æ–‡ä»¶ä¸ä¸€æ ·ï¼‰ï¼Œé€‚é…å·¥ä½œé‡å¤§å¾ˆéš¾å¤„ç†ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œå› æ­¤è¿™ä¸ªæ–¹æ¡ˆç®—æ˜¯å‘Šå¹äº†ã€‚")]),s._v(" "),t("p",[s._v("æ”¾å¼ƒæ•´åˆç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ‰§è¡Œå¯ä»¥ä½¿ç”¨â€œè½®è¯¢ç­–ç•¥â€ã€‚ä»¥ node event loop ä½œä¸ºä¸»äº‹ä»¶å¾ªç¯ï¼Œåœ¨ node event loop è½®è¯¢ GUI äº‹ä»¶æ‰§è¡Œã€‚\næ—¶æœºä¸å‡†ç¡®ï¼ˆGUI äº‹ä»¶åé¦ˆå»¶è¿Ÿï¼‰\nå ç”¨ cpu èµ„æº è¿‡å¤š")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(325)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 4 è½®è¯¢ GUI äº‹ä»¶ç¤ºä¾‹å›¾")]),t("br"),s._v(" "),t("p",[s._v("ğŸŒŸ æœ€ååŸºäº libuv æä¾› backend fd æ ‡è¯†ï¼ˆbackend fd å¯ä»¥æ ‡è¯† libuv æœ‰æ–°äº‹ä»¶æ¨é€ï¼‰ï¼Œä»¥ chromium event loop ä½œä¸ºä¸»äº‹ä»¶å¾ªç¯ï¼Œæ–°å¼€ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œè½®è¯¢æ“ä½œï¼ŒåŒæ ·æ˜¯è½®è¯¢å¥½å¤„åœ¨äºä¸éœ€è¦é’ˆå¯¹å¤šä¸ª GUI äº‹ä»¶è½®è®­ï¼Œcpu å ç”¨é™ä½ã€‚")]),s._v(" "),t("h2",{attrs:{id:"åŠŸèƒ½åˆ†æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),t("h3",{attrs:{id:"å¯åŠ¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨"}},[s._v("#")]),s._v(" å¯åŠ¨")]),s._v(" "),t("p",[s._v("ç›®å‰ç¤¾åŒºä¸Šå…¶å®æœ‰ä¸€äº›å·²ç»é›†æˆäº† electron çš„è„šæ‰‹æ¶ï¼Œåƒ vite-plugin-electronã€vue-cli-electron...... å¾ˆå¤šæ—¶å€™ä¼šæ¯”è¾ƒå¥½å¥‡æ•´ä¸ªå¯åŠ¨çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿè¦è¯´æ˜è¿™ä¸ªé—®é¢˜é¦–å…ˆä»‹ç»ä¸€ä¸‹ electron çš„æ•´ä¸ªè¿ä½œæœºåˆ¶ã€‚\n"),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(326)}}),s._v("\nå‰é¢å…¶å®ä¹Ÿæœ‰æåˆ°ï¼Œelectron é‡‡ç”¨çš„æ˜¯å¤šè¿›ç¨‹æ¶æ„ï¼Œåˆ†ä¸ºä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹\nä¸»è¿›ç¨‹ï¼šå¤„ç†ä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’ï¼ˆçª—å£ã€ç³»ç»Ÿæ‰˜ç›˜ï¼‰\næ¸²æŸ“è¿›ç¨‹ï¼šUI æ¸²æŸ“\nä¸€ä¸ª electron åº”ç”¨ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸»è¿›ç¨‹ï¼Œä¸€ä¸ªçª—å£å¯¹åº”ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œå› æ­¤å®é™…æ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„æ¶æ„ã€‚ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´ä½¿ç”¨ ipc è¿›è¡Œé€šä¿¡ å› æ­¤é¡¹ç›®å¯åŠ¨éœ€è¦åŒæ—¶å¯åŠ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("æ¸²æŸ“è¿›ç¨‹çš„å¯åŠ¨å¾ˆå¥½ç†è§£ï¼Œå’Œ web å¼€å‘æ¨¡å¼ä¸€è‡´ï¼Œé€šè¿‡ webpack / vite ç­‰æ„å»ºå·¥å…·ç¼–è¯‘æ‰“åŒ…ï¼Œé€šè¿‡ index.html æ–‡ä»¶è®¾å®šæŒ‚è½½ç‚¹å¼•å…¥èµ„æºä»è€Œå®Œæˆ spa é¡µé¢æ¸²æŸ“ã€‚")]),s._v(" "),t("li",[s._v("å¯¹äºä¸»è¿›ç¨‹çš„å¯åŠ¨ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä½¿ç”¨ node ç›‘å¬ç«¯å£å¯åŠ¨äº†ä¸€ä¸ªå•ä¾‹æœ¬åœ°æœåŠ¡ã€‚ä¸¤è€…å¦‚ä½•è¿æ¥åœ¨ä¸€èµ·ï¼Ÿelectron æœ‰ä¸€ä¸ª loadURL çš„ api å¯ä»¥åŠ è½½ä¸€ä¸ª html æ–‡ä»¶ï¼Œhtml æ–‡ä»¶è®¾å®šä¸ºæ¸²æŸ“è¿›ç¨‹æ‰“åŒ…å¥½èµ„æºçš„å…¥å£æ–‡ä»¶å°±å¯ä»¥å®ç°å°†é¡µé¢åµŒå…¥ chromium å½“ä¸­å®ç°è§†å›¾æ¸²æŸ“ã€‚")])]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(327)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 6 electron ç”Ÿå‘½å‘¨æœŸ")]),t("br"),s._v(" "),t("h3",{attrs:{id:"è¿›ç¨‹é€šä¿¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹é€šä¿¡"}},[s._v("#")]),s._v(" è¿›ç¨‹é€šä¿¡")]),s._v(" "),t("p",[s._v("ä¸ºä»€ä¹ˆéœ€è¦è¿›ç¨‹é€šä¿¡è¿™ä¸ªè¿‡ç¨‹ï¼Ÿâ€”â€” åœ¨æ¸²æŸ“è¿›ç¨‹æƒ³è¦ä½¿ç”¨ node / electron api")]),s._v(" "),t("ul",[t("li",[s._v("æ–¹å¼ä¸€ï¼šè®¾ç½® nodeIntegration: trueï¼Œå³å…è®¸ç›´æ¥é€šè¿‡ import / require çš„æ–¹å¼å¯¼å…¥ electron / node apiï¼ˆä¸å®‰å…¨ -- ä¸€æ—¦è¢«åŠ«æŒäº†å°± ggï¼ˆç›´æ¥æ‰§è¡Œæ–¹æ³•ã€åŸå‹é“¾æ±¡æŸ“ï¼‰ï¼‰")]),s._v(" "),t("li",[s._v("æ–¹å¼äºŒï¼šåŸºäºäº‹ä»¶è®¢é˜…ï¼Œä¸»è¿›ç¨‹ç›‘å¬äº‹ä»¶æµï¼Œæ¸²æŸ“è¿›ç¨‹é€šè¿‡æ•°æ®æ¨é€è§¦å‘äº‹ä»¶æ›´æ–°ï¼Œä¸»è¿›ç¨‹æ‰§è¡Œäº‹ä»¶ï¼Œç›¸æ¯”äºæ–¹å¼ä¸€ï¼ŒåŠ«æŒè€…ä¹Ÿæ²¡æœ‰è¿™ä¹ˆå®¹æ˜“å»æ›´æ”¹è¿‡ç¨‹ä¸­çš„è¡Œä¸º")])]),s._v(" "),t("h4",{attrs:{id:"å•çª—å£é€šä¿¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å•çª—å£é€šä¿¡"}},[s._v("#")]),s._v(" å•çª—å£é€šä¿¡")]),s._v(" "),t("blockquote",[t("p",[s._v("å•çª—å£æ€ä¹ˆä¸é€»è¾‘ä¸»è¿›ç¨‹è¿›è¡Œæ•°æ®é€šä¿¡\nelectron å°è£…äº† ipcMainã€ipcRenderer æ¨¡å—")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('ipcMain.on("toMain", (event, args) => {\n  fs.readFile("path/to/file", (error, data) => {\n    // æ–‡ä»¶è¯»å–æ•°æ®æ¨é€ç»™æ¸²æŸ“è¿›ç¨‹\n    win.webContents.send("fromMain", responseObj);\n  });\n});\n\n// æ¸²æŸ“è¿›ç¨‹æ¥å—æ•°æ®\nipcRenderer.on(channel, (event, ...args) => func(...args));\n\n// æ¸²æŸ“è¿›ç¨‹æ¨é€æ•°æ®\nipcRenderer.send(channel, data);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"å¤šçª—å£é€šä¿¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¤šçª—å£é€šä¿¡"}},[s._v("#")]),s._v(" å¤šçª—å£é€šä¿¡")]),s._v(" "),t("p",[s._v("å¦‚æœå­˜åœ¨å¤šçª—å£çš„æƒ…å†µä¸‹ä¸åŒçª—å£ä¹‹å‰éœ€è¦è¿›è¡Œæ•°æ®é€šä¿¡çš„è¯åˆæ˜¯æ€ä¹ˆæ ·çš„ä¸€ç§å½¢å¼ï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("æ–¹å¼ä¸€ï¼šä»¥ä¸»è¿›ç¨‹ä½œä¸ºæ²Ÿé€šæ¡¥æ¢\n"),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(328)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 7  ç®€å•å¤šçª—å£é€šä¿¡æ–¹å¼")]),t("br"),s._v("\nåŸºäºä¸¤ä¸ªçª—å£è¿™ç§æ–¹å¼å½“ç„¶ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦å‡ºç°å¤šçª—å£ï¼Œä¸»è¿›ç¨‹å°±ä¼šå‡ºç°å¤šä¸ªæ•°æ®åŒç±»å‹çš„äº‹ä»¶ç›‘å¬ï¼ˆçª—å£è†¨èƒ€ï¼‰")])]),s._v(" "),t("br"),s._v(" "),t("ul",[t("li",[s._v("æ–¹å¼äºŒï¼šå®šä¹‰ globalWindowMap\n"),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(329)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾  8 å…¨å±€å­˜å‚¨å·²åˆ›å»ºçª—å£")]),t("br")])]),s._v(" "),t("p",[s._v("preload\næƒ³è±¡ä¸€ä¸‹ç”¨æˆ·å¯ä»¥åœ¨æ¸²æŸ“è¿›ç¨‹ç›´æ¥æ“ä½œç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒ…æ‹¬åˆ é™¤ä¿®æ”¹ç­‰æ“ä½œï¼Œåœ¨æ²¡æœ‰æˆæƒçš„æƒ…å†µä¸‹è¿™æ˜¯éå¸¸å±é™©çš„è¡Œä¸ºï¼Œå‚è€ƒ web åº”ç”¨ä¸ºä»€ä¹ˆä¸èƒ½æ“ä½œæ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚\nåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è¿›è¡Œè¿›ç¨‹é€šä¿¡å°±ä¼šç”¨åˆ° ipcRendererï¼Œè€Œç›´æ¥é€šè¿‡  const {ipcRenderer } = require('electron') çš„æ–¹å¼åˆè¿åäº†å®‰å…¨ç­–ç•¥ï¼Œå› æ­¤ electron æä¾›äº†ä¸€ä¸ª context preload ä½œç”¨åŸŸæ²¡ï¼Œåœ¨é¡µé¢å…ˆæ‰§è¡Œä¸€ä¸ª js æ–‡ä»¶ï¼Œå°† nodeã€electron api é€šè¿‡å‡½æ•°çš„å½¢å¼æš´éœ²ç»™å®¢æˆ·ç«¯.")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(330)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 7 electron è¿›ç¨‹æ‰§è¡Œé¡ºåº")]),t("br"),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  contextBridge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ipcRenderer\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncontextBridge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("exposeInMainWorld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"api"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// whitelist channels")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" validChannels "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"toMain"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("validChannels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              ipcRenderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("receive")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" validChannels "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fromMain"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("validChannels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Deliberately strip event as it includes `sender` ")]),s._v("\n              ipcRenderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("å…¶å®åœ¨ contextBridge å¼•å‡ºä¹‹å‰è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥è®¾ç½® windowï¼Œä½†è¿™è¢«è®¤ä¸ºæ˜¯ä¸å®‰å…¨ï¼\nå¦‚æœç›´æ¥åœ¨ window ä¸Šè®¾ç½®çš„è¯ï¼Œå¯ä»¥ä¼šå­˜åœ¨ç¯¡æ”¹é£é™©ï¼Œé»‘å®¢é€šè¿‡åŠ«æŒç½‘ç»œè¯·æ±‚é€šè¿‡ JS å®Œå…¨å¯ä»¥é‡å†™ window ä¸Šçš„æ–¹æ³•ä»è€Œå®ç°ä¸€äº›å±é™©çš„æ“ä½œã€‚è€Œ contextBridge å®šä¹‰çš„ä¸Šä¸‹æ–‡æ–¹æ³•å…¶å®æ˜¯ä¸å…è®¸è¢«é‡å†™çš„ã€‚")]),s._v(" "),t("h2",{attrs:{id:"æ‰“åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰“åŒ…"}},[s._v("#")]),s._v(" æ‰“åŒ…")]),s._v(" "),t("p",[s._v("åœ¨ electron ä¸­ï¼Œæ‰“åŒ…å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä¸€ä¸ªé˜¶æ®µæ˜¯èµ„æºçš„æ‰“åŒ…ï¼ˆæ¸²æŸ“è¿›ç¨‹ã€ä¸»è¿›ç¨‹ä»£ç ï¼‰ï¼Œå¦å¤–ä¸€ä¸ªé˜¶æ®µæ˜¯ç”Ÿæˆä¸åŒå¹³å°ä¸åŒæ¶æ„çš„äºŒè¿›åˆ¶ç¨‹åºåŒ…ã€‚")]),s._v(" "),t("h3",{attrs:{id:"èµ„æºæ‰“åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºæ‰“åŒ…"}},[s._v("#")]),s._v(" èµ„æºæ‰“åŒ…")]),s._v(" "),t("p",[s._v("å’Œå¼€å‘è¿‡ç¨‹ç±»ä¼¼ï¼ŒåŒæ ·éœ€è¦å¤„ç†ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹çš„æ‰“åŒ…")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¸²æŸ“è¿›ç¨‹æ‰“åŒ…")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("buildRenderer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Vite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("configFile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'..'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vite.config.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("base")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸»è¿›ç¨‹æ‰“åŒ…")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("buildMain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" mainPath "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'..'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'main'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("compileTs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mainPath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¼–è¯‘ typescript")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("æ¸²æŸ“è¿›ç¨‹æ‰“åŒ…ä¸ web ç›¸å·®æ— å¼‚\nä¸»è¿›ç¨‹æ‰“åŒ…å…¶å®å°±æ˜¯ä¸€ä¸ªç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå°†åŸæ¥çš„ä»£ç ç¼–è¯‘å‹ç¼©æˆä¸€ä¸ª [name].js æ–‡ä»¶\nç”ŸæˆäºŒè¿›åˆ¶ç¨‹åºåŒ…\nä¸åŒæ“ä½œç³»ç»Ÿå®‰è£…ç¨‹åºæ–¹å¼ä¸å¤ªä¸€æ ·\nmacosï¼šdmgã€app store\nlinuxï¼šdebã€rpmã€pacman\nwindowsï¼šnsisã€portable\nå› æ­¤å¦‚æœè¦å¼€å‘çœŸæ­£è·¨ç«¯ä½¿ç”¨çš„åº”ç”¨ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒå¹³å°æ‰“åŒ…ç”Ÿè¾°ä¸åŒäºŒè¿›åˆ¶ç¨‹åºåŒ…ã€‚electron å®˜ç½‘æä¾›äº†ä¸€ä¸ªæ„å»ºå·¥å…· electron-builderï¼Œå¯ä»¥é€šè¿‡é€‰é¡¹é…ç½®å®Œæˆä¸Šè¿°æ‰“åŒ…æµç¨‹ã€‚")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" builder "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'builder'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" builder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("targetInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("buildOptions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// äºŒè¿›åˆ¶åŒ…æ ¼å¼")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// buildOptions: { win: ['nsis'] },")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// buildOptions: { linux: ['dev', 'pacman'] },")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("publish")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" publishType "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("??")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'never'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("x64")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x64'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x86_64'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ia32")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x86'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x86_64'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("arm64")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'arm64'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("armv7l")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" arch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'armv7l'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("targetInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("music è·¨å¹³å°æ‰“åŒ…\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" options "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("files")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'!node_modules/**/*'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/font-list'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/better-sqlite3/lib'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/better-sqlite3/package.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/better-sqlite3/build/Release/better_sqlite3.node'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/electron-font-manager/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/electron-font-manager/package.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/electron-font-manager/build/Release/font_manager.node'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/node-gyp-build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/bufferutil'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/utf-8-validate'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build/Release/qrc_decode.node'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist/**/*'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("p",[s._v("æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªé€‰é¡¹æ˜¯ files çš„é…ç½®ï¼Œfiles é…ç½®äº†å“ªäº›æ–‡ä»¶æ˜¯åœ¨ç”ŸæˆäºŒè¿›åˆ¶åŒ…çš„è¿‡ç¨‹ä¸­éœ€è¦ä¸€åŒæ‹·è´è¿›å»ï¼Œè¿™æ˜¯ç¨‹åºæ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œçš„å…³é”®ã€‚whyï¼Ÿåº”ç”¨ç¨‹åºåŒ…åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šå»å¯»æ‰¾å…¥å£æ–‡ä»¶ï¼Œè€Œå…¥å£æ–‡ä»¶çš„é…ç½®åœ¨ package.json main é€‰é¡¹ä¸­ï¼Œå› æ­¤ä¸»è¿›ç¨‹çš„ chunk æ–‡ä»¶è·¯å¾„éœ€è¦å’Œ package.json ä¸­main é€‰é¡¹ä¸€è‡´æ‰èƒ½ç¡®ä¿å¯åŠ¨çš„æ—¶å€™èƒ½æ­£å¸¸å¯åŠ¨å¹¶æ‰§è¡Œåç»­æ¸²æŸ“è¿›ç¨‹åŠ è½½ç¨‹åº")]),s._v(" "),t("h2",{attrs:{id:"æ›´æ–°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°"}},[s._v("#")]),s._v(" æ›´æ–°")]),s._v(" "),t("p",[s._v("electron çš„æ›´æ–°å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šå…¨é‡æ›´æ–°ã€å¢é‡æ›´æ–°")]),s._v(" "),t("ul",[t("li",[s._v("å…¨é‡æ›´æ–°ï¼šå…¨é‡æ›´æ–°å³æ¯æ¬¡éœ€è¦æ›´æ–°çš„æ—¶å€™éƒ½éœ€è¦ç”¨æˆ·é‡æ–°ä¸‹è½½å®Œæ•´åº”ç”¨åŒ…åé‡å¯åº”ç”¨")]),s._v(" "),t("li",[s._v("å¢é‡æ›´æ–°ï¼šæ¯æ¬¡åªä¸‹è½½æœ‰å·®å¼‚çš„éƒ¨åˆ†\n"),t("ul",[t("li",[s._v("blockmap")]),s._v(" "),t("li",[s._v("asar")])])])]),s._v(" "),t("h3",{attrs:{id:"å…¨é‡æ›´æ–°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¨é‡æ›´æ–°"}},[s._v("#")]),s._v(" å…¨é‡æ›´æ–°")]),s._v(" "),t("p",[s._v("electron-builder åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆä¸€ä¸ª latest.yml æ–‡ä»¶ï¼ˆåœ¨ macos ä¸Šæ˜¯  latest-mac.yml ï¼Œåœ¨ linux ä¸­ä¸º latest-linux.ymlï¼‰ï¼Œæè¿°åº”ç”¨çš„ç‰ˆæœ¬ã€ä¸‹è½½é“¾æ¥ã€ç­¾åç­‰ä¿¡æ¯ï¼Œelectron-updater åˆ¤æ–­ç‰ˆæœ¬æ›´æ–°çš„å°±æ˜¯åŸºäº latest.yml ä¸­çš„ version å­—æ®µã€‚")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publish"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"provider"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"generic"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å…è®¸å®šä¹‰ http server")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<store_url>"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å­˜æ”¾ latest.yml & [name].exe è·¯å¾„")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 2.0.0\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("files")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" YourAppName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Mac"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("2.0.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Installer.dmg\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sha512")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Qc3PvBSJAn+D/HtyT7b9pLDoE0WAzBmaMahaf+7OQG+cJvrbYjerIlS0QZhGvfAEWnyBaPIRi50rvdmlGEP8rg==\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91650113")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" YourAppName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Mac"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("2.0.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Installer.dmg\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sha512")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Qc3PvBSJAn+D/HtyT7b9pLDoE0WAzBmaMahaf+7OQG+cJvrbYjerIlS0QZhGvfAEWnyBaPIRi50rvdmlGEP8rg==\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("releaseDate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-12-19T01:40:43.774Z'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(331)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 7 å…¨é‡æ›´æ–°æµç¨‹")]),t("br"),s._v(" "),t("p",[s._v("ç¼ºç‚¹ï¼šæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ‹‰å–å®Œæ•´ç¨‹åºå®‰è£…åŒ…ï¼Œæ›´æ–°æ—¶é—´æ…¢ï¼Œéœ€è¦æµé‡å¤§")]),s._v(" "),t("h3",{attrs:{id:"å¢é‡æ›´æ–°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¢é‡æ›´æ–°"}},[s._v("#")]),s._v(" å¢é‡æ›´æ–°")]),s._v(" "),t("h4",{attrs:{id:"blockmap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#blockmap"}},[s._v("#")]),s._v(" blockmap")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(300)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 8 blockmap diff ç®—æ³•")]),t("br"),s._v(" "),t("p",[s._v("å¢é‡æ›´æ–°æ˜¯åŸºäº blockmap è¿›è¡Œ diff æ¯”è¾ƒã€‚blockmap æ˜¯ä¸€ä¸ªä½¿ç”¨ gzip å‹ç¼©è¿‡çš„ json èµ„æºï¼Œå­˜å‚¨äº†äºŒè¿›åˆ¶å®‰è£…åŒ…åˆ†æ®µçš„ç´¢å¼•ä»¥åŠå¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œé€šè¿‡æ¯”è¾ƒçº¿ä¸Šå’Œæœ¬åœ°çš„åˆ†æ®µçš„å“ˆå¸Œå€¼æ¥åˆ¤æ–­è¿™ä¸ªåˆ†æ®µæ˜¯å¦å‘ç”Ÿæ›´æ–°ï¼Œæ›´æ–°åˆ™é‡æ–°å‘èµ·è¯·æ±‚ï¼Œæœ€åé‡æ–°æ‹¼æ¥ä¸ºä¸€ä¸ªå®Œæˆçš„å®‰è£…åŒ…ç¨‹åºã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('{ \n   "version": "2", \n   "files": [ \n     { \n       "name": "file", \n       "offset": 0, \n       "checksums": [ "VxFZSGxhDYz5FXgMiOUk5oCc" ], \n       "sizes": [ 32768 ] \n      } \n    ]\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("blockmap å¤§æ¦‚é•¿è¿™æ ·å­ï¼Œchecksums å°±æ˜¯å¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œoffset å°±æ˜¯åˆ†ç‰‡åç§»")]),s._v(" "),t("h4",{attrs:{id:"asar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#asar"}},[s._v("#")]),s._v(" asar")]),s._v(" "),t("p",[s._v("electron-builder æ‰“åŒ…çš„æ—¶å€™å¯ä»¥é…ç½®ç”Ÿæˆ asar æ–‡ä»¶\napp.asarï¼šæ‰“åŒ…ä¸€èˆ¬ä¸é¢‘ç¹æ›´æ–°çš„æ–‡ä»¶\napp.asar.unpackï¼šæ‰“åŒ…é¢‘ç¹æ›´æ–°çš„æ–‡ä»¶ï¼ˆä¸€èˆ¬æ˜¯æ¸²æŸ“è¿›ç¨‹ä»£ç ï¼‰")]),s._v(" "),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(300)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 9 electron asar å¯åŠ¨æµç¨‹")]),t("br"),s._v(" "),t("p",[s._v("electron-builder ç”Ÿæˆ asar é…ç½®æ–‡ä»¶")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"appId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.test.app"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"productName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"APP"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"files"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./build/**/*"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compression"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"maximum"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"asar"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"asarUnpack"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./build/src"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸éœ€è¦æ‰“åŒ…åˆ° asar ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æœ‰æ”¹åŠ¨çš„ä»£ç ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./build/sdk/one"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./build/sdk/two"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"directories"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"output"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mac"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"target"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dmg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zip"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:a(332)}}),s._v(" "),t("div",{staticStyle:{"text-align":"center"}},[s._v("å›¾ 10 electron æ‹‰å– asar æ›´æ–°è¿‡ç¨‹")]),t("br")])}),[],!1,null,null,null);t.default=e.exports}}]);