(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{418:function(I,g,i){"use strict";i.r(g);var C=i(4),A=Object(C.a)({},(function(){var I=this,g=I._self._c;return g("ContentSlotsDistributor",{attrs:{"slot-key":I.$parent.slotKey}},[g("blockquote",[g("p",[I._v("其实刚开始接触 pnpm 的时候需要考虑 pnpm 和 npm、yarn 有什么不一样？为什么要转向使用 pnpm？")])]),I._v(" "),g("p",[I._v("pnpm 总体具备三大优势")]),I._v(" "),g("ul",[g("li",[I._v("节省磁盘空间")]),I._v(" "),g("li",[I._v("提升安装速度")]),I._v(" "),g("li",[I._v("保证项目只能访问项目直接依赖包")])]),I._v(" "),g("p",[I._v("ℹ️ 从节省磁盘空间来说，对于不同项目安装相同的包不再是像从前一样每次都重新安装到 node_modules 中，而是在第一次下载的时候就缓存到本地，下次直接通过硬链接的方式链接过去。")]),I._v(" "),g("p",[I._v("ℹ️ 从提升安装速度来说，相对于传统包需要顺次同步经历依赖解析（所有包解析完才下载） => 依赖下载 => 写入 node_modules，pnpm 每解析完一个包就判断缓存是否存在，存在则直接链接不存在再从网络源 fetch。")]),I._v(" "),g("p",[I._v("![An illustration of the pnpm install process. Packages are resolved, fetched, and hard linked as soon as possible.](data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHZpZXdCb3g9IjEzNS4wOTUwNSAxNDA3IDU3NC4zNDg3IDMxNC4zOTYiIHdpZHRoPSI1NzQuMzQ4NyIgaGVpZ2h0PSIzMTQuMzk2Ij4KICA8ZGVmcz4KICAgIDxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBpZD0iRmlsbGVkQXJyb3dfTWFya2VyIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHZpZXdCb3g9Ii0xIC00IDEwIDgiIG1hcmtlcldpZHRoPSIxMCIgbWFya2VySGVpZ2h0PSI4IiBjb2xvcj0iYmxhY2siPgogICAgICA8Zz4KICAgICAgICA8cGF0aCBkPSJNIDggMCBMIDAgLTMgTCAwIDMgWiIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgIDwvbWFya2VyPgogIDwvZGVmcz4KICA8ZyBpZD0iQ2FudmFzXzEiIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsPSJub25lIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIHN0cm9rZT0ibm9uZSI+CiAgICA8dGl0bGU+Q2FudmFzIDE8L3RpdGxlPgogICAgPHJlY3QgZmlsbD0id2hpdGUiIHg9IjEzNS4wOTUwNSIgeT0iMTQwNyIgd2lkdGg9IjU3NC4zNDg3IiBoZWlnaHQ9IjMxNC4zOTYiLz4KICAgIDxnIGlkPSJDYW52YXNfMV9MYXllcl8xIj4KICAgICAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNDgiPgogICAgICAgIDxyZWN0IHg9IjE0MS41OTUwNSIgeT0iMTQ0NS40NDgiIHdpZHRoPSI4Mi4xMjU5MiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzYwZDkzNiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE0NyI+CiAgICAgICAgPHJlY3QgeD0iMjIzLjcyMDk3IiB5PSIxNDQ1LjQ0OCIgd2lkdGg9IjEwMC41NjIzNSIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAwYTJmZiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE0NiI+CiAgICAgICAgPHJlY3QgeD0iNTA3LjM5MDYiIHk9IjE0NDUuNDQ4IiB3aWR0aD0iNDguNjA1MTM0IiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmVhZTAwIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTQ1Ij4KICAgICAgICA8cmVjdCB4PSIxNDEuNTk1MDUiIHk9IjE0NzIuNDQ4IiB3aWR0aD0iNDEuMDYyOTYiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNDQiPgogICAgICAgIDxyZWN0IHg9IjE4Mi42NTgiIHk9IjE0NzIuNDQ4IiB3aWR0aD0iNjguMjU1MDIiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNDMiPgogICAgICAgIDxyZWN0IHg9IjIyMy43MjA5NyIgeT0iMTQ5OS40NDgiIHdpZHRoPSI0OC42MDUxMzQiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNDIiPgogICAgICAgIDxyZWN0IHg9IjIyMy43MjA5NyIgeT0iMTUyNi40NDgiIHdpZHRoPSI4Mi4xMjU5MiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzYwZDkzNiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE0MSI+CiAgICAgICAgPHJlY3QgeD0iMjcyLjMyNjEiIHk9IjE1NTMuNDQ4IiB3aWR0aD0iNTguNjYxMzciIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNDAiPgogICAgICAgIDxyZWN0IHg9IjMwNy41MjI5MiIgeT0iMTU4MC40NDgiIHdpZHRoPSI4Mi4xMjU5MiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzYwZDkzNiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEzOSI+CiAgICAgICAgPHJlY3QgeD0iMzMwLjk4NzQ3IiB5PSIxNjA3LjQ0OCIgd2lkdGg9IjQxLjA2Mjk2IiBoZWlnaHQ9IjIyIiBmaWxsPSIjNjBkOTM2Ii8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTM4Ij4KICAgICAgICA8cmVjdCB4PSIzMzAuOTg3NDciIHk9IjE2MzQuNDQ4IiB3aWR0aD0iODkuNSIgaGVpZ2h0PSIyMiIgZmlsbD0iIzYwZDkzNiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEzNyI+CiAgICAgICAgPHJlY3QgeD0iMjcyLjMyNjEiIHk9IjE0OTkuNDQ4IiB3aWR0aD0iMTkwLjIzMDQ0IiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTM2Ij4KICAgICAgICA8cmVjdCB4PSIzMDUuODQ2OSIgeT0iMTUyNi40NDgiIHdpZHRoPSIyOTYuNjU4OTIiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xMzUiPgogICAgICAgIDxyZWN0IHg9IjMzMC45ODc0NyIgeT0iMTU1My40NDgiIHdpZHRoPSIxNTguMzg1NyIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAwYTJmZiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEzNCI+CiAgICAgICAgPHJlY3QgeD0iMzg5LjY0ODg0IiB5PSIxNTgwLjQ0OCIgd2lkdGg9IjE1MC4wMDU1IiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTMzIj4KICAgICAgICA8cmVjdCB4PSIzNzIuMDUwNDMiIHk9IjE2MDcuNDQ4IiB3aWR0aD0iMjQ5LjcyOTgzIiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTMyIj4KICAgICAgICA8cmVjdCB4PSI0MjAuNDkzNiIgeT0iMTYzNC40NDgiIHdpZHRoPSIxNTEuMDA1NSIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAwYTJmZiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEzMCI+CiAgICAgICAgPHJlY3QgeD0iNTA3LjM5MDYiIHk9IjE0NzIuNDQ4IiB3aWR0aD0iMzIuMjYzNzUzIiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmVhZTAwIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTI5Ij4KICAgICAgICA8cmVjdCB4PSI1MDcuMzkwNiIgeT0iMTQ5OS40NDgiIHdpZHRoPSI2OC4yNTUwMiIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEyOCI+CiAgICAgICAgPHJlY3QgeD0iNjAyLjUwNTgiIHk9IjE1MjYuNDQ4IiB3aWR0aD0iMTAwLjU2MjM1IiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmVhZTAwIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTI3Ij4KICAgICAgICA8cmVjdCB4PSI1MDcuMzkwNiIgeT0iMTU1My40NDgiIHdpZHRoPSI0Ny43NjcxMTUiIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xMjYiPgogICAgICAgIDxyZWN0IHg9IjUzOS42NTQzNCIgeT0iMTU4MC40NDgiIHdpZHRoPSIxMDAuNTYyMzUiIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xMjUiPgogICAgICAgIDxyZWN0IHg9IjYyMS43ODAyNiIgeT0iMTYwNy40NDgiIHdpZHRoPSI1OC42NjEzNyIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEyNCI+CiAgICAgICAgPHJlY3QgeD0iNTcxLjQ5OTEiIHk9IjE2MzQuNDQ4IiB3aWR0aD0iNTguNjYxMzciIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xMjMiPgogICAgICAgIDxwYXRoIGQ9Ik0gNTA3LjM5MDYgMTQzMS40NDggTCA1MDcuNTE1IDE0NzEuNDkxNSBMIDUwNy4zOTA2IDE1NDEuMjM3MyBMIDUwNi41MTUgMTY2Ni43NSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSI0LjAsNC4wIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xMjIiPgogICAgICAgIDxwYXRoIGQ9Ik0gMTQxLjQ3MDY2IDE0MzEuNDQ4IEwgMTQxLjU5NTA1IDE0NzEuOTIxIEwgMTQxLjQ3MDY2IDE1NDIuNDE0NiBMIDE0MC41OTUwNSAxNjY2Ljc1IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1kYXNoYXJyYXk9IjQuMCw0LjAiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzEyMSI+CiAgICAgICAgPHBhdGggZD0iTSA3MDIuOTQzOCAxNDMxLjQ0OCBMIDcwMy4wNjgxNSAxNDcxLjA3IEwgNzAyLjk0MzggMTU0MC4wODE3IEwgNzAzLjA2ODE1IDE2NjcuMjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWRhc2hhcnJheT0iNC4wLDQuMCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTE2Ij4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzcuMDk2MyAxNDE3KSIgZmlsbD0iYmxhY2siPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZmlsbD0iYmxhY2siIHg9IjMxOTc0NDIzZS0yMCIgeT0iMTUiPjE8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xMTUiPgogICAgICAgIDxsaW5lIHgxPSIxNDEuNDk0NTMiIHkxPSIxNDM5LjIxNDUiIHgyPSI0MTEuNDk0OTgiIHkyPSIxNDM5LjcyNDYiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xMTQiPgogICAgICAgIDxsaW5lIHgxPSI0MjMuNTg4NjMiIHkxPSIxNDM5LjQ0OCIgeDI9IjQ5Ny41MTYyNiIgeTI9IjE0MzkuNjY4MiIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzExMyI+CiAgICAgICAgPGxpbmUgeDE9IjUwNy40MTQ3IiB5MT0iMTQzOS4yMTc2IiB4Mj0iNjkzLjA2ODIiIHkyPSIxNDM5LjIyNjgiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xMTIiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ2MC4yMDM2IDE0MTcpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJibGFjayIgeD0iMzE5NzQ0MjNlLTIwIiB5PSIxNSI+MjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzExMSI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5LjgyMzk2IDE0MTcpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJibGFjayIgeD0iNi42ODM4NzciIHk9IjE1Ij4zPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTg2Ij4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDYuNTk1MDUgMTY3MC45NDgpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJibGFjayIgeD0iODUyNjUxM2UtMTkiIHk9IjE1Ij5QYWNrYWdlIGluc3RhbGxhdGlvbiBwcm9ncmVzczo8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xODUiPgogICAgICAgIDxyZWN0IHg9IjE0MS41OTUwNSIgeT0iMTY5NC4zOTYiIHdpZHRoPSI4OS41IiBoZWlnaHQ9IjIyIiBmaWxsPSIjNjBkOTM2Ii8+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ2LjU5NTA1IDE2OTYuMTcyKSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHg9IjQuNzkiIHk9IjE1Ij5SZXNvbHZpbmc8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xODQiPgogICAgICAgIDxyZWN0IHg9IjIzMS4wOTUwNSIgeT0iMTY5NC4zOTYiIHdpZHRoPSI4OS41IiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjM2LjA5NTA1IDE2OTYuMTcyKSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHg9IjguNzgyIiB5PSIxNSI+RmV0Y2hpbmc8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xODMiPgogICAgICAgIDxyZWN0IHg9IjMyMC41OTUwNSIgeT0iMTY5NC4zOTYiIHdpZHRoPSI4OS41IiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmVhZTAwIi8+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzI1LjU5NTA1IDE2OTYuMTcyKSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHg9IjE0LjExIiB5PSIxNSI+TGlua2luZzwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzE4OCI+CiAgICAgICAgPHBhdGggZD0iTSA0MjEuMzY5MiAxNDMxLjQ0OCBMIDQyMS40OTM2IDE0NzEuNDkxNSBMIDQyMS4zNjkyIDE1NDEuMjM3MyBMIDQyMC40OTM2IDE2NjYuNzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWRhc2hhcnJheT0iNC4wLDQuMCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=)")]),I._v(" "),g("p",[I._v("​\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpnpm 工作机制")]),I._v(" "),g("p",[I._v("![An illustration of how package managers like Yarn Classic or npm install dependencies.](data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM6eGw9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjE2Ny41OTUwNSAxNzc3IDY5MC4xMTk4IDMxNC4zOTYiIHdpZHRoPSI2OTAuMTE5OCIgaGVpZ2h0PSIzMTQuMzk2Ij4KICA8ZGVmcz4KICAgIDxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBpZD0iRmlsbGVkQXJyb3dfTWFya2VyIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHZpZXdCb3g9Ii0xIC00IDEwIDgiIG1hcmtlcldpZHRoPSIxMCIgbWFya2VySGVpZ2h0PSI4IiBjb2xvcj0iYmxhY2siPgogICAgICA8Zz4KICAgICAgICA8cGF0aCBkPSJNIDggMCBMIDAgLTMgTCAwIDMgWiIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgIDwvbWFya2VyPgogIDwvZGVmcz4KICA8ZyBpZD0iQ2FudmFzXzEiIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZpbGw9Im5vbmUiIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0ibm9uZSI+CiAgICA8dGl0bGU+Q2FudmFzIDE8L3RpdGxlPgogICAgPHJlY3QgZmlsbD0id2hpdGUiIHg9IjE2Ny41OTUwNSIgeT0iMTc3NyIgd2lkdGg9IjY5MC4xMTk4IiBoZWlnaHQ9IjMxNC4zOTYiLz4KICAgIDxnIGlkPSJDYW52YXNfMV9MYXllcl8xIj4KICAgICAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogICAgICA8ZyBpZD0iR3JhcGhpY18xMjAiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3OS4wOTUwNSAyMDQwLjk0OCkiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9ImJsYWNrIiB4PSI4NTI2NTEzZS0xOSIgeT0iMTUiPlBhY2thZ2UgaW5zdGFsbGF0aW9uIHByb2dyZXNzOjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzExOSI+CiAgICAgICAgPHJlY3QgeD0iMTc0LjA5NTA1IiB5PSIyMDY0LjM5NiIgd2lkdGg9Ijg5LjUiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzkuMDk1MDUgMjA2Ni4xNzIpIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJ3aGl0ZSIgeD0iNC43OSIgeT0iMTUiPlJlc29sdmluZzwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzExOCI+CiAgICAgICAgPHJlY3QgeD0iMjYzLjU5NTA1IiB5PSIyMDY0LjM5NiIgd2lkdGg9Ijg5LjUiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjguNTk1MDUgMjA2Ni4xNzIpIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJ3aGl0ZSIgeD0iOC43ODIiIHk9IjE1Ij5GZXRjaGluZzwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzExNyI+CiAgICAgICAgPHJlY3QgeD0iMzUzLjA5NTA1IiB5PSIyMDY0LjM5NiIgd2lkdGg9Ijg5LjUiIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTguMDk1MDUgMjA2Ni4xNzIpIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJ3aGl0ZSIgeD0iMTQuMTEiIHk9IjE1Ij5MaW5raW5nPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTgyIj4KICAgICAgICA8cmVjdCB4PSIxNzQuMDk1MDUiIHk9IjE4MTUuNDQ4IiB3aWR0aD0iODIuMTI1OTIiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xODEiPgogICAgICAgIDxyZWN0IHg9IjQ1My45OTM2IiB5PSIxODE1LjQ0OCIgd2lkdGg9IjEwMC41NjIzNSIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAwYTJmZiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE4MCI+CiAgICAgICAgPHJlY3QgeD0iNzUwLjY1MjUiIHk9IjE4MTUuNDQ4IiB3aWR0aD0iNDguNjA1MTM0IiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmVhZTAwIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTc5Ij4KICAgICAgICA8cmVjdCB4PSIxNzQuMDk1MDUiIHk9IjE4NDIuNDQ4IiB3aWR0aD0iNDEuMDYyOTYiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNzgiPgogICAgICAgIDxyZWN0IHg9IjQ1My45OTM2IiB5PSIxODQyLjQ0OCIgd2lkdGg9IjY4LjI1NTAyIiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTc3Ij4KICAgICAgICA8cmVjdCB4PSIyNTYuMjIwOTciIHk9IjE4NjkuNDQ4IiB3aWR0aD0iNDguNjA1MTM0IiBoZWlnaHQ9IjIyIiBmaWxsPSIjNjBkOTM2Ii8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTc2Ij4KICAgICAgICA8cmVjdCB4PSIyNTYuMjIwOTciIHk9IjE4OTYuNDQ4IiB3aWR0aD0iODIuMTI1OTIiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNzUiPgogICAgICAgIDxyZWN0IHg9IjMwNC44MjYxIiB5PSIxOTIzLjQ0OCIgd2lkdGg9IjU4LjY2MTM3IiBoZWlnaHQ9IjIyIiBmaWxsPSIjNjBkOTM2Ii8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTc0Ij4KICAgICAgICA8cmVjdCB4PSIzNDAuMDIyOTIiIHk9IjE5NTAuNDQ4IiB3aWR0aD0iODIuMTI1OTIiIGhlaWdodD0iMjIiIGZpbGw9IiM2MGQ5MzYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNzMiPgogICAgICAgIDxyZWN0IHg9IjM2My40ODc0NyIgeT0iMTk3Ny40NDgiIHdpZHRoPSI0MS4wNjI5NiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzYwZDkzNiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE3MiI+CiAgICAgICAgPHJlY3QgeD0iMzYzLjQ4NzQ3IiB5PSIyMDA0LjQ0OCIgd2lkdGg9IjkwLjUwNjExIiBoZWlnaHQ9IjIyIiBmaWxsPSIjNjBkOTM2Ii8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTcxIj4KICAgICAgICA8cmVjdCB4PSI0NTMuOTkzNiIgeT0iMTg2OS40NDgiIHdpZHRoPSIxOTAuMjMwNDQiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNzAiPgogICAgICAgIDxyZWN0IHg9IjQ1My45OTM2IiB5PSIxODk2LjQ0OCIgd2lkdGg9IjI5Ni42NTg5MiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAwYTJmZiIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE2OSI+CiAgICAgICAgPHJlY3QgeD0iNDUzLjk5MzYiIHk9IjE5MjMuMzMzNiIgd2lkdGg9IjE1OC4zODU3IiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTY4Ij4KICAgICAgICA8cmVjdCB4PSI0NTMuOTkzNiIgeT0iMTk1MC4yMTkyIiB3aWR0aD0iMTUwLjAwNTUiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNjciPgogICAgICAgIDxyZWN0IHg9IjQ1My45OTM2IiB5PSIxOTc3LjMzMzYiIHdpZHRoPSIyNDkuNzI5ODMiIGhlaWdodD0iMjIiIGZpbGw9IiMwMGEyZmYiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNjYiPgogICAgICAgIDxyZWN0IHg9IjQ1My45OTM2IiB5PSIyMDA0LjQ0OCIgd2lkdGg9IjE1MC4wMDU1IiBoZWlnaHQ9IjIyIiBmaWxsPSIjMDBhMmZmIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMTY1Ij4KICAgICAgICA8cGF0aCBkPSJNIDQ1My45OTM2IDE4MDEuNDQ4IEwgNDU0LjExOCAxODQxLjIzNzUgTCA0NTMuOTkzNiAxOTEwLjU0MSBMIDQ1NC4xMTggMjAzNS43NSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSI0LjAsNC4wIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNjQiPgogICAgICAgIDxyZWN0IHg9Ijc1MC42NTI1IiB5PSIxODQyLjQ0OCIgd2lkdGg9IjMyLjI2Mzc1MyIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE2MyI+CiAgICAgICAgPHJlY3QgeD0iNzUwLjY1MjUiIHk9IjE4NjkuNDQ4IiB3aWR0aD0iNjguMjU1MDIiIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNjIiPgogICAgICAgIDxyZWN0IHg9Ijc1MC42NTI1IiB5PSIxODk2LjQ0OCIgd2lkdGg9IjEwMC41NjIzNSIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE2MSI+CiAgICAgICAgPHJlY3QgeD0iNzUwLjY1MjUiIHk9IjE5MjIuOTkwNCIgd2lkdGg9IjQ3Ljc2NzExNSIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE2MCI+CiAgICAgICAgPHJlY3QgeD0iNzUwLjY1MjUiIHk9IjE5NTAuMjE5MiIgd2lkdGg9IjEwMC41NjIzNSIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE1OSI+CiAgICAgICAgPHJlY3QgeD0iNzUwLjY1MjUiIHk9IjE5NzcuNDQ4IiB3aWR0aD0iNTguNjYxMzciIGhlaWdodD0iMjIiIGZpbGw9IiNmZWFlMDAiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNTgiPgogICAgICAgIDxyZWN0IHg9Ijc1MC42NTI1IiB5PSIyMDAzLjk5MDQiIHdpZHRoPSI1OC42NjEzNyIgaGVpZ2h0PSIyMiIgZmlsbD0iI2ZlYWUwMCIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzE1NyI+CiAgICAgICAgPHBhdGggZD0iTSA3NTAuNjUyNSAxODAxLjQ0OCBMIDc1MC43NzY5IDE4NDEuNDkxNSBMIDc1MC42NTI1IDE5MTEuMjM3MyBMIDc1MC43NzY5IDIwMzYuNzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWRhc2hhcnJheT0iNC4wLDQuMCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMTU2Ij4KICAgICAgICA8cGF0aCBkPSJNIDE3My45NzA2NiAxODAxLjQ0OCBMIDE3NC4wOTUwNSAxODQxLjU3NyBMIDE3My45NzA2NiAxOTExLjQ3MTQgTCAxNzMuMDk1MDUgMjAzOC4yNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSI0LjAsNC4wIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xNTUiPgogICAgICAgIDxwYXRoIGQ9Ik0gODUxLjIxNDkgMTgwMS40NDggTCA4NTEuMzM5MiAxODQxLjA3IEwgODUxLjIxNDkgMTkxMC4wODE3IEwgODUyLjIxNDkgMjAzNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSI0LjAsNC4wIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNTQiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwOS41OTYzIDE3ODcpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJibGFjayIgeD0iMzE5NzQ0MjNlLTIwIiB5PSIxNSI+MTwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzE1MyI+CiAgICAgICAgPGxpbmUgeDE9IjE3My45OTQ4OCIgeTE9IjE4MDkuMjY0IiB4Mj0iNDQ0LjExNzgiIHkyPSIxODA5LjE5MjUiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xNTIiPgogICAgICAgIDxsaW5lIHgxPSI0NTYuMDg4NjMiIHkxPSIxODA5LjQ0OCIgeDI9Ijc0MC43NzgxIiB5Mj0iMTgwOS42ODkyIiBtYXJrZXItZW5kPSJ1cmwoI0ZpbGxlZEFycm93X01hcmtlcikiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMTUxIj4KICAgICAgICA8bGluZSB4MT0iNzUwLjY3NjYiIHkxPSIxODA5LjIxNzUiIHgyPSI4NDEuMzM5MSIgeTI9IjE4MDkuMTg5MyIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE1MCI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA5LjEwMTE1IDE3ODcpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmaWxsPSJibGFjayIgeD0iMzE5NzQ0MjNlLTIwIiB5PSIxNSI+MjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzE0OSI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzkzLjczODggMTc4NykiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9ImJsYWNrIiB4PSI2LjY4Mzg3NyIgeT0iMTUiPjM8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)")]),I._v(" "),g("p",[I._v("​\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t传统包下载机制")]),I._v(" "),g("p",[I._v("ℹ️ 更加安全，传统的方式是“flatten package”，即默认将当前包以及依赖全部平铺到 node_modules，这也是当前 npm / yarn 的工作方式，这种方式的问题在于没有直接写在 "),g("code",[I._v("package.json")]),I._v(" "),g("code",[I._v("dependences")]),I._v(" 里面的依赖包也能直接被访问。存在这么一个场景：项目中依赖了一个 "),g("code",[I._v("a")]),I._v(" 包，"),g("code",[I._v("a")]),I._v("包是 express 的依赖包，因此在引用的时候可以直接")]),I._v(" "),g("div",{staticClass:"language-js line-numbers-mode"},[g("pre",{pre:!0,attrs:{class:"language-js"}},[g("code",[g("span",{pre:!0,attrs:{class:"token keyword"}},[I._v("import")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v("*")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token keyword"}},[I._v("as")]),I._v(" a "),g("span",{pre:!0,attrs:{class:"token keyword"}},[I._v("from")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token string"}},[I._v("'a'")]),I._v("\n")])]),I._v(" "),g("div",{staticClass:"line-numbers-wrapper"},[g("span",{staticClass:"line-number"},[I._v("1")]),g("br")])]),g("ol",[g("li",[I._v("但是随着版本迭代，a 包更新到 version 2，且存在破坏性的更新，即当前版本语法不再兼容上一版本，但是因为 a 包是 express 依赖包，a 更新依赖于 express，只有 express 支持 version 2 后才能去滚动更新 a，因此这完全不受我们开发者的控制。")]),I._v(" "),g("li",[I._v("还有就是一旦 express 支持了 "),g("code",[I._v("a")]),I._v(" version 2，我们部署的线上代码引用的 "),g("code",[I._v("a")]),I._v(" 也随之更新，但实际代码的语法还是 version 1，这会给线上的应用代码灾难性的破坏”silly bug“。")])]),I._v(" "),g("h2",{attrs:{id:"安装"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[I._v("#")]),I._v(" 安装")]),I._v(" "),g("p",[I._v("安装不依赖于 node 环境")]),I._v(" "),g("div",{staticClass:"language-bash line-numbers-mode"},[g("pre",{pre:!0,attrs:{class:"language-bash"}},[g("code",[I._v("$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("wget")]),I._v(" -qO- https://get.pnpm.io/install.sh "),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v("|")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token assign-left variable"}},[I._v("ENV")]),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v("=")]),g("span",{pre:!0,attrs:{class:"token string"}},[I._v('"'),g("span",{pre:!0,attrs:{class:"token environment constant"}},[I._v("$HOME")]),I._v('/.zshrc"')]),I._v(" "),g("span",{pre:!0,attrs:{class:"token assign-left variable"}},[g("span",{pre:!0,attrs:{class:"token environment constant"}},[I._v("SHELL")])]),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v("=")]),g("span",{pre:!0,attrs:{class:"token string"}},[I._v('"'),g("span",{pre:!0,attrs:{class:"token variable"}},[g("span",{pre:!0,attrs:{class:"token variable"}},[I._v("$(")]),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("which")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("zsh")]),g("span",{pre:!0,attrs:{class:"token variable"}},[I._v(")")])]),I._v('"')]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("zsh")]),I._v(" -\n")])]),I._v(" "),g("div",{staticClass:"line-numbers-wrapper"},[g("span",{staticClass:"line-number"},[I._v("1")]),g("br")])]),g("p",[g("code",[I._v("install.sh")]),I._v(" 下载后会注入相关环境变量到 "),g("code",[I._v("~/.zshrc")]),I._v(" 中")]),I._v(" "),g("div",{staticClass:"language-bash line-numbers-mode"},[g("pre",{pre:!0,attrs:{class:"language-bash"}},[g("code",[I._v("$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("pnpm")]),I._v(" install-completion "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("zsh")]),I._v("\n")])]),I._v(" "),g("div",{staticClass:"line-numbers-wrapper"},[g("span",{staticClass:"line-number"},[I._v("1")]),g("br")])]),g("p",[I._v("增加 "),g("code",[I._v("pnpm")]),I._v(" 自动补全功能")]),I._v(" "),g("h2",{attrs:{id:"可切换-node-版本"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#可切换-node-版本"}},[I._v("#")]),I._v(" 可切换 node 版本")]),I._v(" "),g("blockquote",[g("p",[I._v("传统切换 node 版本的方式是基于 nvm，即在 ～/.nvm 管理各个 node 版本，但是这会存在些不可避免的问题 —— 各个版本之间的全局库是不共享的，因此可以基于 pnpm 来安装 node 版本")])]),I._v(" "),g("div",{staticClass:"language-bash line-numbers-mode"},[g("pre",{pre:!0,attrs:{class:"language-bash"}},[g("code",[I._v("$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("pnpm")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("env")]),I._v(" use "),g("span",{pre:!0,attrs:{class:"token parameter variable"}},[I._v("--global")]),I._v(" lts "),g("span",{pre:!0,attrs:{class:"token comment"}},[I._v("# 安装 LTS version")]),I._v("\n$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("pnpm")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("env")]),I._v(" remove "),g("span",{pre:!0,attrs:{class:"token parameter variable"}},[I._v("--global")]),I._v(" lts "),g("span",{pre:!0,attrs:{class:"token comment"}},[I._v("# 移除 LTS version")]),I._v("\n$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("pnpm")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("env")]),I._v(" list\n$ "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("pnpm")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token function"}},[I._v("env")]),I._v(" list "),g("span",{pre:!0,attrs:{class:"token parameter variable"}},[I._v("--remote")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token comment"}},[I._v("# 可下载使用的 node 版本")]),I._v("\n")])]),I._v(" "),g("div",{staticClass:"line-numbers-wrapper"},[g("span",{staticClass:"line-number"},[I._v("1")]),g("br"),g("span",{staticClass:"line-number"},[I._v("2")]),g("br"),g("span",{staticClass:"line-number"},[I._v("3")]),g("br"),g("span",{staticClass:"line-number"},[I._v("4")]),g("br")])]),g("h2",{attrs:{id:"package-json"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[I._v("#")]),I._v(" package.json")]),I._v(" "),g("ol",[g("li",[I._v("指定当前项目支持 node & pnpm 版本")])]),I._v(" "),g("div",{staticClass:"language-json line-numbers-mode"},[g("pre",{pre:!0,attrs:{class:"language-json"}},[g("code",[g("span",{pre:!0,attrs:{class:"token punctuation"}},[I._v("{")]),I._v("\n    "),g("span",{pre:!0,attrs:{class:"token property"}},[I._v('"engines"')]),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v(":")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token punctuation"}},[I._v("{")]),I._v("\n        "),g("span",{pre:!0,attrs:{class:"token property"}},[I._v('"node"')]),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v(":")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token string"}},[I._v('">=10"')]),g("span",{pre:!0,attrs:{class:"token punctuation"}},[I._v(",")]),I._v("\n        "),g("span",{pre:!0,attrs:{class:"token property"}},[I._v('"pnpm"')]),g("span",{pre:!0,attrs:{class:"token operator"}},[I._v(":")]),I._v(" "),g("span",{pre:!0,attrs:{class:"token string"}},[I._v('">=3"')]),I._v("\n    "),g("span",{pre:!0,attrs:{class:"token punctuation"}},[I._v("}")]),I._v("\n"),g("span",{pre:!0,attrs:{class:"token punctuation"}},[I._v("}")]),I._v("\n")])]),I._v(" "),g("div",{staticClass:"line-numbers-wrapper"},[g("span",{staticClass:"line-number"},[I._v("1")]),g("br"),g("span",{staticClass:"line-number"},[I._v("2")]),g("br"),g("span",{staticClass:"line-number"},[I._v("3")]),g("br"),g("span",{staticClass:"line-number"},[I._v("4")]),g("br"),g("span",{staticClass:"line-number"},[I._v("5")]),g("br"),g("span",{staticClass:"line-number"},[I._v("6")]),g("br")])])])}),[],!1,null,null,null);g.default=A.exports}}]);